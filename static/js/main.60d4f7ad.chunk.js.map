{"version":3,"sources":["../../muta-sdk/build/main/utils.js","../../muta-sdk/build/main/core/constant.js","../../muta-sdk/build/main/account/index.js","../../muta-sdk/build/main/wallet/index.js","../../muta-sdk/build/main/Muta.js","../../muta-sdk/build/main/account/SyncAccount.js","../../muta-sdk/build/main/core/index.js","../../muta-sdk/build/main/wallet/HDWallet.js","../../muta-sdk/build/main/index.js","../../muta-sdk/build/main/client/Client.js","Guide/MnenmoicCreator.jsx","validate.js","Guide/MnemonicImporter.jsx","Guide/index.jsx","NetworkConfig.jsx","Account/Unlock.jsx","Account/AssetBalance.jsx","Account/ExtraAccount.jsx","Account/AccountSwitch.jsx","Account/Account.jsx","utils.js","Account/index.jsx","Account/Avatar.jsx","Wallet.jsx","store.js","App.js","serviceWorker.js","index.js"],"names":["Buffer","rm0x","hex","startsWith","slice","Object","defineProperty","exports","value","toHex","x","Number","toString","length","toBuffer","from","COIN_TYPE","PREFIX_ADDRESS_ACCOUNT","DEFAULT_TIMEOUT_GAP","PREFIX_TRANSACTION_TRANSFER","SyncAccount_1","__webpack_require__","SyncAccount","HDWallet_1","HDWallet","_classCallCheck","_createClass","account_1","constant_1","index_1","wallet_1","Muta","context","this","chainId","endpoint","timeoutGap","key","mnemonic","fromMnemonic","privateKey","fromPrivateKey","get","_this$context","Client","core_1","utils_1","_privateKey","tx","signTransferTransaction","publicKeyCreate","addressFromPublicKey","_publicKey","_address","__importDefault","mod","__esModule","default","keccak_1","rlp_1","secp256k1_1","hash","buffer","update","digest","publicKey","address","magicAddressPrefix","concat","orderedTx","feeAssetId","feeCycle","nonce","timeout","carryingAmount","carryingAssetId","receiver","txHash","encode","signature","sign","assign","pubkey","__importStar","result","k","hasOwnProperty","call","bip39_1","HDKey","accountIndex","seed","mnemonicToSeedSync","fromMasterSeed","derive","getHDPath","index","getPrivateKey","generateMnemonic","__export","m","p","utils","_regeneratorRuntime","_asyncToGenerator","_taggedTemplateLiteral","_templateObject3","data","_templateObject2","_templateObject","apollo_boost_1","graphql_tag_1","random_bytes_1","entry","client","fetchOptions","mode","uri","query","then","res","getLatestEpoch","header","epochId","_getEpochHeight","mark","_callee","wrap","_context","prev","next","getLatestEpochId","sent","abrupt","stop","apply","arguments","assetId","getBalance","_prepareTransferTransaction","_callee2","options","_a","_b","height","_context2","sync","getEpochHeight","_x","_sendTransferTransaction","_callee3","_context3","mutation","sendTransferTransaction","_x2","_query","_mutation","mutate","MnemonicCreator","_ref","onSubmit","_useState","useState","_useState2","slicedToArray","created","setCreated","useMemo","undefined","react_default","a","createElement","card","title","actions","es_button","type","disabled","onClick","validateRequired","validateAccountAddress","test","validateUint256","FormItem","es_form","Item","TextArea","input","Password","MnemonicImporter","importMnemonic","useStoreActions","store","wallet","formik_esm","initialValues","password","_ref2","setSubmitting","render","name","label","validate","submit_button","ChoiceGuide","onSelect","row","gutter","style","padding","col","span","icon","Guide","step","setStep","Config","_useStoreState","useStoreState","config","saveConfig","required","placeholder","NetworkConfig","loadConfig","networkName","useEffect","open","setOpen","closeConfigModal","Fragment","modal","visible","onCancel","footer","es_alert","message","rel","target","href","Unlock","unlockWallet","error","Unlock_FormItem","Unlock_Password","Amount","props","useSpring","web","interpolate","Math","ceil","TransferModal","AssetBalance_FormItem","input_number","AssetBalance","_ref3","onFetchBalance","onTransfer","shown","setShown","_useState3","_useState4","balance","setBalance","refreshBalance","_refreshBalance","asyncToGenerator","regenerator_default","newBalance","closeTransferModal","interval","setInterval","clearInterval","asset","tooltip","tag","marginLeft","className","size","color","copy","width","margin","typography","Title","_ref4","_ref5","onTransferFinish","ExtraAccountModal","onOk","modalProps","objectWithoutProperties","addExtraAccount","account","ExtraAccount_FormItem","ExtraAccount_TextArea","SwitchWrapper","styled","div","Operation","closeModal","menu","es_menu","dropdown","overlay","trigger","fontSize","cursor","AccountSwitch","accounts","selectedAccount","selectAccount","map","i","BalanceWrapper","Account_templateObject","Account","_useStoreState2","assets","muta","setMuta","useMuta","handleTransfer","_handleTransfer","signed","prepareTransferTransaction","accountFromPrivateKey","signTransaction","success","divider","list","copyTextToClipboard","text","navigator","clipboard","writeText","console","log","err","textArea","document","body","appendChild","focus","select","msg","execCommand","removeChild","fallbackCopyTextToClipboard","Accounts","unlocked","maxWidth","info","AccountAvatar","resetAll","Content","Header","layout","Wallet_templateObject","AppWrapper","AppHeader","textAlign","Wallet","initialWallet","walletImported","imported","theme","ls","SecureLS","defaultConfig","getConfig","_","merge","createStore","loaded","isUnset","computed","setConfig","action","state","thunk","payload","injections","set","location","reload","setUnlock","setImported","getAllKeys","includes","getStoreActions","sls","encodingType","encryptionSecret","addHDAccount","times","forEach","isEmpty","initialAccount","e","syncWithStorage","hdWalletFromMnemonic","hdAccount","_ref6","alert","selectLatestAccount","_ref7","setAccounts","_ref8","getState","removeAll","App","errorInfo","easy_peasy_esm","config_provider","Component","Boolean","window","hostname","match","ReactDOM","src_App","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"2FAAA,SAAAA,GAUA,SAAAC,EAAAC,GACA,OAAAA,EAAAC,WAAA,MAAAD,EAAAE,MAAA,GAAAF,EATAG,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAWAD,EAAAN,OAuBAM,EAAAE,MAjBA,SAAAC,GACA,qBAAAA,EACA,OAAAA,EAAAP,WAAA,MACAO,EAGA,KAAAA,EAGA,qBAAAA,EAAA,CACA,IAAAR,EAAAS,OAAAD,GAAAE,SAAA,IACA,OAAAV,EAAAW,OAAA,YAAAX,EAAA,KAAAA,EAGA,WAAAQ,EAAAE,SAAA,QAaAL,EAAAO,SAJA,SAAAJ,GACA,OAAAV,EAAAe,KAAAd,EAAAS,GAAA,oEC1CAL,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAMAD,EAAAS,UAAA,EAKAT,EAAAU,uBAAA,GAMAV,EAAAW,oBAAA,GAKAX,EAAAY,4BAAA,oCCvBAd,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAAY,EAAoBC,EAAQ,KAE5Bd,EAAAe,YAAAF,EAAAE,8CCNAjB,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAAe,EAAiBF,EAAQ,KAEzBd,EAAAiB,SAAAD,EAAAC,uGCNA,IAAAC,EAAsBJ,EAAQ,KAE9BK,EAAmBL,EAAQ,KAE3BhB,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAAmB,EAAgBN,EAAQ,KAExBO,EAAiBP,EAAQ,KAEzBQ,EAAcR,EAAQ,IAEtBS,EAAeT,EAAQ,KAMvBU,EAEA,WACA,SAAAA,EAAAC,GACAP,EAAAQ,KAAAF,GAEAE,KAAAD,QAAA,CACAE,QAAAF,EAAAE,QACAC,SAAAH,EAAAG,SACAC,WAAAR,EAAAV,qBAkCA,OA9BAQ,EAAAK,EAAA,EACAM,IAAA,uBAMA7B,MAAA,SAAA8B,GACA,OAAAR,EAAAN,SAAAe,aAAAD,KAOG,CACHD,IAAA,wBACA7B,MAAA,SAAAgC,GACA,OAAAb,EAAAL,YAAAmB,eAAAD,KAEG,CACHH,IAAA,SACAK,IAAA,WACA,IAAAC,EAAAV,KAAAD,QACAG,EAAAQ,EAAAR,SACAD,EAAAS,EAAAT,QACA,WAAAL,EAAAe,OAAAT,EAAAD,OAIAH,EAzCA,GA4CAxB,EAAAwB,yCClEA,IAAAN,EAAsBJ,EAAQ,KAE9BK,EAAmBL,EAAQ,KAE3BhB,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAAqC,EAAaxB,EAAQ,KAErByB,EAAczB,EAAQ,KA0BtBC,EAEA,WACA,SAAAA,EAAAkB,GACAf,EAAAQ,KAAAX,GAEAW,KAAAc,YAAAP,EAmCA,OAhCAd,EAAAJ,EAAA,EACAe,IAAA,kBACA7B,MAAA,SAAAwC,GACA,OAAAH,EAAAI,wBAAAD,EAAAf,KAAAc,eAEG,CACHV,IAAA,aACAK,IAAA,WACA,OAAAG,EAAAK,gBAAAjB,KAAAc,eAEG,CACHV,IAAA,WACAK,IAAA,WACA,OAAAG,EAAAM,qBAAAlB,KAAAmB,cAEG,CACHf,IAAA,YACAK,IAAA,WACA,OAAAI,EAAArC,MAAAwB,KAAAmB,cAEG,CACHf,IAAA,UACAK,IAAA,WACA,OAAAI,EAAArC,MAAAwB,KAAAoB,aAEG,EACHhB,IAAA,iBACA7B,MAAA,SAAAgC,GACA,WAAAlB,EAAAwB,EAAAhC,SAAA0B,QAIAlB,EAvCA,GA0CAf,EAAAe,iDClFA,SAAAtB,GAEA,IAAAsD,EAAArB,WAAAqB,iBAAA,SAAAC,GACA,OAAAA,KAAAC,WAAAD,EAAA,CACAE,QAAAF,IAIAlD,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAAkD,EAAAJ,EAA+BjC,EAAQ,MAEvCsC,EAAYtC,EAAQ,KAEpBuC,EAAkBvC,EAAQ,KAE1Bd,EAAA2C,gBAAAU,EAAAV,gBAEA,IAAAJ,EAAczB,EAAQ,KAEtBO,EAAiBP,EAAQ,KAEzB,SAAAwC,EAAAC,GACA,OAAAJ,EAAAD,QAAA,aAAAM,OAAAD,GAAAE,SAeAzD,EAAA4C,qBAPA,SAAAc,GACA,IACAC,EADAL,EAAAI,GACA7D,MAAA,MACA+D,EAAAnE,EAAAe,KAAA,CAAAa,EAAAX,yBACA,OAAAjB,EAAAoE,OAAA,CAAApE,EAAAe,KAAAoD,GAAAnE,EAAAe,KAAAmD,MA0BA3D,EAAA0C,wBAhBA,SAAAD,EAAAR,GACA,IAAA6B,EAAA,CAAAzC,EAAAT,4BAAA6B,EAAAd,QAAAc,EAAAsB,WAAAtB,EAAAuB,SAAAvB,EAAAwB,MAAAxB,EAAAyB,SACAJ,IAAAD,OAAA,CAAApB,EAAA0B,eAAA1B,EAAA2B,gBAAA3B,EAAA4B,WACA,IACAC,EAAAhB,EADAF,EAAAmB,OAAAT,IAIAU,EADAnB,EAAAoB,KAAAH,EAAArC,GACAuC,UAEA,OAAA1E,OAAA4E,OAAA5E,OAAA4E,OAAA,GAAuCjC,GAAA,CACvCkC,OAAApC,EAAArC,MAAAmD,EAAAV,gBAAAV,IACAuC,UAAAjC,EAAArC,MAAAsE,GACAF,OAAA/B,EAAArC,MAAAoE,kJCzDA,IAAApD,EAAsBJ,EAAQ,KAE9BK,EAAmBL,EAAQ,KAE3B8D,EAAAlD,WAAAkD,cAAA,SAAA5B,GACA,GAAAA,KAAAC,WAAA,OAAAD,EACA,IAAA6B,EAAA,GACA,SAAA7B,EAAA,QAAA8B,KAAA9B,EACAlD,OAAAiF,eAAAC,KAAAhC,EAAA8B,KAAAD,EAAAC,GAAA9B,EAAA8B,IAGA,OADAD,EAAA,QAAA7B,EACA6B,GAGA/E,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAAgF,EAAcnE,EAAQ,KAEtBoE,EAAAN,EAAyB9D,EAAQ,MAEjCM,EAAgBN,EAAQ,KAExBO,EAAiBP,EAAQ,KAEzByB,EAAczB,EAAQ,KAStBG,EAEA,WACA,SAAAA,EAAAc,GACAb,EAAAQ,KAAAT,GAEAS,KAAAK,WAsCA,OAnCAZ,EAAAF,EAAA,EACAa,IAAA,gBAMA7B,MAAA,SAAAkF,GACA,IAAAC,EAAAH,EAAAI,mBAAA3D,KAAAK,UAGA,OAFAmD,EAAAI,eAAAF,GACAG,OAAAtE,EAAAuE,UAAAL,IACA3C,cAEG,CACHV,IAAA,iBACA7B,MAAA,SAAAwF,GACA,OAAArE,EAAAL,YAAAmB,eAAAK,EAAArC,MAAAwB,KAAAgE,cAAAD,QAEG,EACH3D,IAAA,eACA7B,MAAA,SAAA8B,GACA,WAAAd,EAAAc,KAEG,CACHD,IAAA,mBACA7B,MAAA,WACA,OAAAgF,EAAAU,qBAEG,CACH7D,IAAA,YACA7B,MAAA,SAAAwF,GACA,eAAA5B,OAAAxC,EAAAZ,UAAA,MAAAoD,OAAA4B,EAAA,aAIAxE,EA1CA,GA6CAjB,EAAAiB,4CClFA,SAAA2E,EAAAC,GACA,QAAAC,KAAAD,EACA7F,EAAA+E,eAAAe,KAAA9F,EAAA8F,GAAAD,EAAAC,IAIA,IAAAlB,EAAAlD,WAAAkD,cAAA,SAAA5B,GACA,GAAAA,KAAAC,WAAA,OAAAD,EACA,IAAA6B,EAAA,GACA,SAAA7B,EAAA,QAAA8B,KAAA9B,EACAlD,OAAAiF,eAAAC,KAAAhC,EAAA8B,KAAAD,EAAAC,GAAA9B,EAAA8B,IAGA,OADAD,EAAA,QAAA7B,EACA6B,GAGA/E,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAA8F,EAAAnB,EAAyB9D,EAAQ,MAEjCd,EAAA+F,QAEAH,EAAS9E,EAAQ,MAEjB8E,EAAS9E,EAAQ,MAEjB8E,EAAS9E,EAAQ,gFC5BjB,IAAAkF,EAA0BlF,EAAQ,IAElCmF,EAAwBnF,EAAQ,KAEhCoF,EAA6BpF,EAAQ,KAErCI,EAAsBJ,EAAQ,KAE9BK,EAAmBL,EAAQ,KAE3B,SAAAqF,IACA,IAAAC,EAAAF,EAAA,yFAAqG,mLAA2L,iIAAkJ,kFAMlb,OAJAC,EAAA,WACA,OAAAC,GAGAA,EAGA,SAAAC,IACA,IAAAD,EAAAF,EAAA,2BAAuC,oBAMvC,OAJAG,EAAA,WACA,OAAAD,GAGAA,EAGA,SAAAE,IACA,IAAAF,EAAAF,EAAA,yIAMA,OAJAI,EAAA,WACA,OAAAF,GAGAA,EAGA,IAAArD,EAAArB,WAAAqB,iBAAA,SAAAC,GACA,OAAAA,KAAAC,WAAAD,EAAA,CACAE,QAAAF,IAIAlD,OAAAC,eAAAC,EAAA,cACAC,OAAA,IAGA,IAAAsG,EAAAxD,EAAqCjC,EAAQ,MAG7CA,EAAQ,KAER,IAAA0F,EAAAzD,EAAoCjC,EAAQ,MAE5C2F,EAAA1D,EAAqCjC,EAAQ,MAE7CO,EAAiBP,EAAQ,KAEzByB,EAAczB,EAAQ,KAMtBuB,EAEA,WACA,SAAAA,EAAAqE,EAAA/E,GACAT,EAAAQ,KAAAW,GAEAX,KAAAE,SAAA8E,EACAhF,KAAAC,UACAD,KAAAiF,OAAA,IAAAJ,EAAArD,QAAA,CACA0D,aAAA,CACAA,aAAA,CACAC,KAAA,YAGAC,IAAApF,KAAAE,WAoKA,OA5JAT,EAAAkB,EAAA,EACAP,IAAA,mBACA7B,MAAA,WACA,OAAAyB,KAAAqF,MAAAP,EAAAtD,QAAAoD,MAAAU,KAAA,SAAAC,GACA,OAAAA,EAAAb,KAAAc,eAAAC,OAAAC,YAGG,CACHtF,IAAA,iBACA7B,MAAA,WACA,IAAAoH,EAAApB,EAEAD,EAAAsB,KAAA,SAAAC,IACA,IAAAH,EACA,OAAApB,EAAAwB,KAAA,SAAAC,GACA,OACA,OAAAA,EAAAC,KAAAD,EAAAE,MACA,OAEA,OADAF,EAAAE,KAAA,EACAjG,KAAAkG,mBAEA,OAEA,OADAR,EAAAK,EAAAI,KACAJ,EAAAK,OAAA,SAAA1H,OAAA,KAAAgH,IAEA,OACA,UACA,OAAAK,EAAAM,SAGSR,EAAA7F,SAOT,OAJA,WACA,OAAA2F,EAAAW,MAAAtG,KAAAuG,YAzBA,IAoCG,CACHnG,IAAA,aACA7B,MAAA,SAAA0D,EAAAuE,GACA,OAAAxG,KAAAqF,MAAAP,EAAAtD,QAAAmD,IAAA1C,EAAAuE,IAAAlB,KAAA,SAAAC,GACA,OAAA7G,OAAA,KAAA6G,EAAAb,KAAA+B,gBAUG,CACHrG,IAAA,6BACA7B,MAAA,WACA,IAAAmI,EAAAnC,EAEAD,EAAAsB,KAAA,SAAAe,EAAAC,GACA,IAAAC,EAAAC,EAAAvE,EAAAwE,EAAAvE,EAEA,OAAA8B,EAAAwB,KAAA,SAAAkB,GACA,OACA,OAAAA,EAAAhB,KAAAgB,EAAAf,MACA,OAGA,OAFA1D,EAAA1B,EAAArC,MAAAuG,EAAAvD,QAAAyF,KAAA,IAAAtI,SAAA,QACAqI,EAAAf,KAAA,EACAjG,KAAAkH,iBAEA,OAGA,OAFAH,EAAAC,EAAAb,KACA3D,EAAA3B,EAAArC,MAAAuI,EAAApH,EAAAV,oBAAA,GACA+H,EAAAZ,OAAA,UACAnG,QAAAD,KAAAC,QACAsC,QACAC,UACAC,eAAAmE,EAAAnE,eACAC,gBAAAkE,EAAAlE,gBACAC,SAAAiE,EAAAjE,SACAN,YAAAwE,EAAAD,EAAAvE,WAAA,OAAAwE,QAAA,IAAAA,IAAAD,EAAAlE,iBACAJ,UAAAwE,EAAAF,EAAAtE,SAAA,OAAAwE,QAAA,IAAAA,IAAA,UAGA,OACA,UACA,OAAAE,EAAAX,SAGSM,EAAA3G,SAOT,OAJA,SAAAmH,GACA,OAAAT,EAAAJ,MAAAtG,KAAAuG,YArCA,IA8CG,CACHnG,IAAA,0BACA7B,MAAA,WACA,IAAA6I,EAAA7C,EAEAD,EAAAsB,KAAA,SAAAyB,EAAAT,GACA,IAAAC,EAAAC,EAAAvB,EAEA,OAAAjB,EAAAwB,KAAA,SAAAwB,GACA,OACA,OAAAA,EAAAtB,KAAAsB,EAAArB,MACA,OAEA,OADAqB,EAAArB,KAAA,EACAjG,KAAAuH,SAAAzC,EAAAtD,QAAAiD,IAAAmC,EAAA3G,QAAA2G,EAAAtE,SAAAsE,EAAAvE,WAAAuE,EAAArE,MAAAqE,EAAApE,QAAAoE,EAAAnE,eAAAmE,EAAAlE,gBAAAkE,EAAAjE,SAAAiE,EAAAhE,OAAAgE,EAAA3D,OAAA2D,EAAA9D,YAEA,OAEA,OADAyC,EAAA+B,EAAAnB,KACAmB,EAAAlB,OAAA,iBAAAU,EAAA,QAAAD,EAAAtB,SAAA,IAAAsB,OAAA,EAAAA,EAAAnC,YAAA,IAAAoC,OAAA,EAAAA,EAAAU,yBAEA,OACA,UACA,OAAAF,EAAAjB,SAGSgB,EAAArH,SAOT,OAJA,SAAAyH,GACA,OAAAL,EAAAd,MAAAtG,KAAAuG,YA1BA,IA+BG,CACHnG,IAAA,QACA7B,MAAA,SAAAmJ,GACA,OAAA1H,KAAAiF,OAAAI,MAAA,CACAA,MAAAqC,MAGG,CACHtH,IAAA,WACA7B,MAAA,SAAAoJ,GACA,OAAA3H,KAAAiF,OAAA2C,OAAA,CACAL,SAAAI,QAKAhH,EAhLA,GAmLArC,EAAAqC,oSCtPe,SAASkH,EAATC,GAAuC,IAAZC,EAAYD,EAAZC,SAAYC,EACtBC,oBAAS,GADaC,EAAA9J,OAAA+J,EAAA,EAAA/J,CAAA4J,EAAA,GAC7CI,EAD6CF,EAAA,GACpCG,EADoCH,EAAA,GAE9C7H,EAAWiI,kBAAQ,kBAAM/I,WAAS0E,yBAAoBsE,GAC5D,OACEC,EAAAC,EAAAC,cAAAC,EAAA,GACEC,MAAM,kBACNC,QAAS,CACPL,EAAAC,EAAAC,cAAAI,EAAA,GAAQC,KAAK,SAASC,UAAWZ,EAASa,QAASlB,GAAnD,kCAKDK,EACCI,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAAA,cAASrI,IAGXmI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,2HAIAF,EAAAC,EAAAC,cAAAI,EAAA,GAAQC,KAAK,SAASE,QAAS,kBAAMZ,GAAW,KAAhD,6EC1BH,SAASa,EAAiB3K,GAC/B,OAAOA,OAAQgK,EAAY,WAGtB,SAASY,EAAuB5K,GACrC,IAAI,8BAA8B6K,KAAK7K,GACvC,MAAO,kBAGF,SAAS8K,EAAgB9K,GAC9B,IAAI,4BAA4B6K,KAAK7K,GACrC,MAAO,gBCLT,IAAM+K,EAAWC,EAAA,EAAKC,KAChBC,EAAWC,EAAA,EAAMD,SACjBE,EAAWD,EAAA,EAAMC,SAER,SAASC,IAAmB,IACjCC,EAAmBC,YAAgB,SAAAC,GAAK,OAAIA,EAAMC,SAAlDH,eAOR,OACErB,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACEC,cAAe,CAAE7J,SAAU,GAAI8J,SAAU,IACzCpC,SARJ,SAAAD,EAAAsC,GAAiE,IAAzC/J,EAAyCyH,EAAzCzH,SAAU8J,EAA+BrC,EAA/BqC,SAAcE,EAAiBD,EAAjBC,cAC9CR,EAAe,CAAExJ,WAAU8J,aAC3BE,GAAc,IAOZC,OAAQ,kBACN9B,EAAAC,EAAAC,cAAAa,EAAA,OACEf,EAAAC,EAAAC,cAACY,EAAD,CAAUiB,KAAK,WAAWC,MAAM,WAAWC,SAAUvB,GACnDV,EAAAC,EAAAC,cAACe,EAAD,CAAUc,KAAK,cAEjB/B,EAAAC,EAAAC,cAACY,EAAD,CAAUiB,KAAK,WAAWC,MAAM,WAAWC,SAAUvB,GACnDV,EAAAC,EAAAC,cAACiB,EAAD,CAAUY,KAAK,cAEjB/B,EAAAC,EAAAC,cAAAgC,EAAA,qBCzBV,SAASC,EAAT7C,GAAmC,IAAZ8C,EAAY9C,EAAZ8C,SACrB,OACEpC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,2BAEAF,EAAAC,EAAAC,cAAAmC,EAAA,GAAKC,OAAQ,GAAIC,MAAO,CAAEC,QAAS,SACjCxC,EAAAC,EAAAC,cAAAuC,EAAA,GAAKC,KAAM,IACT1C,EAAAC,EAAAC,cAAAC,EAAA,GACEC,MAAM,iBACNC,QAAS,CACPL,EAAAC,EAAAC,cAAAI,EAAA,GAAQqC,KAAK,OAAOlC,QAAS,kBAAM2B,EAAS,YAA5C,YAHJ,yBAWFpC,EAAAC,EAAAC,cAAAuC,EAAA,GAAKC,KAAM,IACT1C,EAAAC,EAAAC,cAAAC,EAAA,GACEC,MAAM,uBACNC,QAAS,CACPL,EAAAC,EAAAC,cAAAI,EAAA,GAAQqC,KAAK,SAASlC,QAAS,kBAAM2B,EAAS,YAA9C,YAHJ,wCAgBK,SAASQ,IAAQ,IAAApD,EACNC,mBAAS,UADHC,EAAA9J,OAAA+J,EAAA,EAAA/J,CAAA4J,EAAA,GACvBqD,EADuBnD,EAAA,GACjBoD,EADiBpD,EAAA,GAG9B,OACEM,EAAAC,EAAAC,cAAA,WACY,WAAT2C,GAAqB7C,EAAAC,EAAAC,cAACiC,EAAD,CAAaC,SAAUU,IACnC,WAATD,GAAqB7C,EAAAC,EAAAC,cAACb,EAAD,CAAiBE,SAAU,kBAAMuD,EAAQ,aACrD,WAATD,GAAqB7C,EAAAC,EAAAC,cAACkB,EAAD,6CCxC5B,SAAS2B,EAATzD,GAA8B,IAAZC,EAAYD,EAAZC,SAAYyD,EACQC,YAAc,SAAA1B,GAAK,OAAIA,EAAM2B,SAAzDnB,EADoBiB,EACpBjB,KAAMrK,EADcsL,EACdtL,SAAUD,EADIuL,EACJvL,QAChB0L,EAAe7B,YAAgB,SAAAC,GAAK,OAAIA,EAAM2B,SAA9CC,WAQR,OACEnD,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACEC,cAAe,CAAEK,OAAMrK,WAAUD,WACjC8H,SATJ,SAAsB2D,EAAtBtB,GAAiD,IAAjBC,EAAiBD,EAAjBC,cAC9BsB,EAAWD,GACXrB,GAAc,GACVtC,GAAUA,KAOZuC,OAAQ,kBACN9B,EAAAC,EAAAC,cAAAa,EAAA,OACEf,EAAAC,EAAAC,cAAAa,EAAA,EAAMC,KAAN,CAAWe,KAAK,OAAOC,MAAM,OAAOoB,UAAQ,EAACnB,SAAUvB,GACrDV,EAAAC,EAAAC,cAAAgB,EAAA,GAAOa,KAAK,OAAOsB,YAAY,kBAEjCrD,EAAAC,EAAAC,cAAAa,EAAA,EAAMC,KAAN,CAAWe,KAAK,WAAWC,MAAM,WAAWoB,UAAQ,EAACnB,SAAUvB,GAC7DV,EAAAC,EAAAC,cAAAgB,EAAA,GAAOa,KAAK,WAAWsB,YAAY,0BAErCrD,EAAAC,EAAAC,cAAAa,EAAA,EAAMC,KAAN,CAAWe,KAAK,UAAUC,MAAM,UAAUoB,UAAQ,EAACnB,SAAUvB,GAC3DV,EAAAC,EAAAC,cAAAgB,EAAA,GAAOa,KAAK,UAAUsB,YAAY,aAGpCrD,EAAAC,EAAAC,cAAAgC,EAAA,GAAc1B,UAAU,GAAxB,YAOK,SAAS8C,IACtB,IAAMC,EAAajC,YAAgB,SAAAC,GAAK,OAAIA,EAAM2B,OAAOK,aACnDC,EAAcP,YAAc,SAAA1B,GAAK,OAAIA,EAAM2B,OAAOnB,OACxD0B,oBAAU,WACRF,KACC,IALmC,IAAA/D,EAOdC,oBAAS,GAPKC,EAAA9J,OAAA+J,EAAA,EAAA/J,CAAA4J,EAAA,GAO/BkE,EAP+BhE,EAAA,GAOzBiE,EAPyBjE,EAAA,GAatC,SAASkE,IACPD,GAAQ,GAGV,OACE3D,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4D,SAAA,KACE7D,EAAAC,EAAAC,cAAAI,EAAA,GAAQG,QAVZ,WACEkD,GAAQ,KAS6BH,GACnCxD,EAAAC,EAAAC,cAAA4D,EAAA,GAAOC,QAASL,EAAMM,SAAUJ,EAAkBK,OAAQ,MACxDjE,EAAAC,EAAAC,cAAAgE,EAAA,GACEC,QACEnE,EAAAC,EAAAC,cAAA,6EAEEF,EAAAC,EAAAC,cAAA,KACEkE,IAAI,sBACJC,OAAO,SACPC,KAAK,wGAHP,gBAFF,8DAYF/D,KAAK,SAGPP,EAAAC,EAAAC,cAAC6C,EAAD,CAAQxD,SAAUqE,MCvE1B,IAAMzC,EAAWD,EAAA,EAAMC,SACjBL,EAAWC,EAAA,EAAKC,KAEP,SAASuD,IACtB,IAAMC,EAAelD,YAAgB,SAAAC,GAAK,OAAIA,EAAMC,OAAOgD,eAS3D,OACExE,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACEC,cAAe,CAAEC,SAAU,IAC3BpC,SAXJ,SAAAD,EAAAsC,GAAuD,IAA/BD,EAA+BrC,EAA/BqC,SAAcE,EAAiBD,EAAjBC,cACnB2C,EAAa7C,IAE5BwC,EAAA,EAAQM,MAAM,kBAEhB5C,GAAc,IAOZC,OAAQ,kBACN9B,EAAAC,EAAAC,cAAAa,EAAA,OACEf,EAAAC,EAAAC,cAACwE,EAAD,CAAU3C,KAAK,WAAWC,MAAM,WAAWoB,UAAQ,EAACnB,SAAUvB,GAC5DV,EAAAC,EAAAC,cAACyE,EAAD,CAAU5C,KAAK,WAAWsB,YAAY,uBAExCrD,EAAAC,EAAAC,cAAAgC,EAAA,wKCrBJpB,GAAWC,EAAA,EAAKC,KAEtB,SAAS4D,GAATtF,GAA2B,IAATvJ,EAASuJ,EAATvJ,MACV8O,EAAQC,aAAU,CAAE/O,UAC1B,OAAOiK,EAAAC,EAAAC,cAAC6E,GAAA,EAASrC,KAAV,KAAgBmC,EAAM9O,MAAMiP,YAAY,SAAA/O,GAAC,OAAIgP,KAAKC,KAAKjP,MAGhE,SAASkP,GAATvD,GAAiE,IAAxC5D,EAAwC4D,EAAxC5D,QAAS+F,EAA+BnC,EAA/BmC,QAASC,EAAsBpC,EAAtBoC,SAAUzE,EAAYqC,EAAZrC,SACnD,OACES,EAAAC,EAAAC,cAAA4D,EAAA,GAAO1D,MAAM,WAAW2D,QAASA,EAASC,SAAUA,EAAUC,OAAQ,MACpEjE,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACElC,SAAUA,EACVmC,cAAe,CAAE7H,WAAYmE,EAASlE,SAAU,IAAMK,SAAU,GAAIF,eAAgB,GACpF6H,OAAQ,kBACN9B,EAAAC,EAAAC,cAAAa,EAAA,OACEf,EAAAC,EAAAC,cAACkF,GAAD,CAAUrD,KAAK,WAAWC,MAAM,WAAWoB,UAAQ,EAACnB,SAAUtB,GAC5DX,EAAAC,EAAAC,cAAAgB,EAAA,GAAOa,KAAK,WAAWsB,YAAY,cAErCrD,EAAAC,EAAAC,cAACkF,GAAD,CAAUrD,KAAK,iBAAiBC,MAAM,SAASoB,UAAQ,EAACnB,SAAUvB,GAChEV,EAAAC,EAAAC,cAAAmF,EAAA,GAAatD,KAAK,iBAAiBsB,YAAY,cAEjDrD,EAAAC,EAAAC,cAACkF,GAAD,CAAUrD,KAAK,WAAWC,MAAM,YAAYoB,UAAQ,EAACnB,SAAUvB,GAC7DV,EAAAC,EAAAC,cAAAmF,EAAA,GAAatD,KAAK,WAAWsB,YAAY,eAE3CrD,EAAAC,EAAAC,cAACkF,GAAD,CAAUrD,KAAK,aAAaC,MAAM,YAAYoB,UAAQ,EAACnB,SAAUvB,GAC/DV,EAAAC,EAAAC,cAAAgB,EAAA,GAAOa,KAAK,gBAEd/B,EAAAC,EAAAC,cAAAgC,EAAA,kBAQG,SAASoD,GAATC,GAAwE,IAAhDvH,EAAgDuH,EAAhDvH,QAASvE,EAAuC8L,EAAvC9L,QAAS+L,EAA8BD,EAA9BC,eAAgBC,EAAcF,EAAdE,WAAcjG,EAC3DC,oBAAS,GADkDC,EAAA9J,OAAA+J,EAAA,EAAA/J,CAAA4J,EAAA,GAC9EkG,EAD8EhG,EAAA,GACvEiG,EADuEjG,EAAA,GAAAkG,EAEvDnG,mBAAS,GAF8CoG,EAAAjQ,OAAA+J,EAAA,EAAA/J,CAAAgQ,EAAA,GAE9EE,EAF8ED,EAAA,GAErEE,EAFqEF,EAAA,YAItEG,EAJsErH,GAAA,OAAAsH,EAAAnI,MAAAtG,KAAAuG,WAAA,SAAAkI,IAAA,OAAAA,EAAArQ,OAAAsQ,EAAA,EAAAtQ,CAAAuQ,EAAAlG,EAAA7C,KAIrF,SAAAC,EAA8B5D,GAA9B,IAAA2M,EAAA,OAAAD,EAAAlG,EAAA3C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAC2B+H,EAAe/L,EAASuE,GADnD,OACQoI,EADR7I,EAAAI,KAEEoI,EAAWK,GAFb,wBAAA7I,EAAAM,SAAAR,OAJqFS,MAAAtG,KAAAuG,WAmBrF,SAASsI,IACPV,GAAS,GAXXlC,oBAAU,WACRuC,EAAevM,GACf,IAAM6M,EAAWC,YAAY,kBAAMP,EAAevM,IAAU,KAC5D,OAAO,kBAAM+M,cAAcF,KAC1B,CAAC7M,EAAS+L,IA0Bb,IAAMiB,EACJzG,EAAAC,EAAAC,cAAAwG,EAAA,GAAStG,MAAM,YACbJ,EAAAC,EAAAC,cAAAyG,EAAA,GACEpE,MAAO,CAAEqE,WAAY,OACrBC,UAAU,WACVC,KAAK,QACLC,MAAM,OACNtG,QAAS,kBAAMuG,GAAKhJ,KAEnBA,EAAQrI,MAAM,EAAG,KAKxB,OACEqK,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4D,SAAA,KACE7D,EAAAC,EAAAC,cAAAC,EAAA,GACEC,MAAOqG,EACPlE,MAAO,CAAE0E,MAAO,QAASC,OAAQ,UACjC7G,QAAS,CACPL,EAAAC,EAAAC,cAAAI,EAAA,GACEC,KAAK,UACLgC,MAAO,CAAE0E,MAAO,QAChBxG,QAAS,WA9CjBkF,GAAS,KA2CH,cASF3F,EAAAC,EAAAC,cAAAiH,EAAA,EAAYC,MAAZ,CAAkB7E,MAAO,CAAE2E,OAAQ,WACjClH,EAAAC,EAAAC,cAAC0E,GAAD,CAAQ7O,MAAO+P,MAGnB9F,EAAAC,EAAAC,cAACiF,GAAD,CACEpB,QAAS2B,EACT1H,QAASA,EACTgG,SAAUqC,EACV9G,SArDN,SAAA8H,EAAAC,GAA6F,IAArErN,EAAqEoN,EAArEpN,eAAgBE,EAAqDkN,EAArDlN,SAAUN,EAA2CwN,EAA3CxN,WAAYC,EAA+BuN,EAA/BvN,SAAc+H,EAAiByF,EAAjBzF,cACtE4D,GACFA,EAAW,CACTxL,iBACAE,WACAN,aACAC,WACAI,gBAAiB8D,EACjBuJ,iBANS,WAOP1F,GAAc,GACdwE,6ECrEJpF,GAAWC,EAAA,EAAMD,SACjBH,GAAWC,EAAA,EAAKC,KAEP,SAASwG,GAATlI,GAAoD,IAAvBmI,EAAuBnI,EAAvBmI,KAASC,EAAc9R,OAAA+R,GAAA,EAAA/R,CAAA0J,EAAA,UAC3DsI,EAAkBtG,YAAgB,SAAAC,GAAK,OAAIA,EAAMsG,QAAQD,kBAU/D,OACE5H,EAAAC,EAAAC,cAAA4D,EAAA,EAAAlO,OAAA4E,OAAA,CAAOyJ,OAAQ,MAAUyD,GACvB1H,EAAAC,EAAAC,cAACuB,EAAA,EAAD,CACEC,cAAe,CAAEK,KAAM,UAAWhK,WAAY,IAC9CwH,SAZN,SAAAqC,EAAA2D,GAA+D,IAAvCxD,EAAuCH,EAAvCG,KAAMhK,EAAiC6J,EAAjC7J,WAAgB8J,EAAiB0D,EAAjB1D,cAC5C+F,EAAgB,CAAE7F,OAAMhK,eACpB0P,IACF5F,GAAc,GACd4F,MASE3F,OAAQ,kBACN9B,EAAAC,EAAAC,cAAAa,EAAA,OACEf,EAAAC,EAAAC,cAAC4H,GAAD,CAAU9F,MAAM,OAAOD,KAAK,OAAOqB,UAAQ,EAACnB,SAAUvB,GACpDV,EAAAC,EAAAC,cAAAgB,EAAA,GAAOa,KAAK,OAAOsB,YAAY,kBAEjCrD,EAAAC,EAAAC,cAAC4H,GAAD,CAAU9F,MAAM,cAAcD,KAAK,aAAaqB,UAAQ,EAACnB,SAAUpB,GACjEb,EAAAC,EAAAC,cAAC6H,GAAD,CAAUhG,KAAK,aAAasB,YAAY,iBAE1CrD,EAAAC,EAAAC,cAAAgC,EAAA,4SC3BZ,IAAM8F,GAAgBC,IAAOC,IAAV9L,MAcnB,SAAS+L,KAAY,IAAA3I,EACOC,oBAAS,GADhBC,EAAA9J,OAAA+J,EAAA,EAAA/J,CAAA4J,EAAA,GACZkG,EADYhG,EAAA,GACLiG,EADKjG,EAAA,GAOnB,SAAS0I,IACPzC,GAAS,GAGX,IAAM0C,EACJrI,EAAAC,EAAAC,cAAAoI,GAAA,OACEtI,EAAAC,EAAAC,cAAAoI,GAAA,EAAMtH,KAAN,CAAWP,QAVf,WACEkF,GAAS,KAUL3F,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAAyC,GAAA,GAAMpC,KAAK,WADb,yBAMN,OACEP,EAAAC,EAAAC,cAAAF,EAAAC,EAAA4D,SAAA,KACE7D,EAAAC,EAAAC,cAACsH,GAAD,CAAczD,QAAS2B,EAAO1B,SAAUoE,EAAYX,KAAMW,IAC1DpI,EAAAC,EAAAC,cAAAqI,GAAA,GAAUC,QAASH,EAAMI,QAAS,CAAC,UACjCzI,EAAAC,EAAAC,cAAAyC,GAAA,GAAMpC,KAAK,WAAWgC,MAAO,CAAEmG,SAAU,OAAQC,OAAQ,eAMlD,SAASC,KAAgB,IAAA5F,EACAC,YAAc,SAAA1B,GAAK,OAAIA,EAAMsG,UAA3DgB,EAD8B7F,EAC9B6F,SAAUC,EADoB9F,EACpB8F,gBACVC,EAAkBzH,YAAgB,SAAAC,GAAK,OAAIA,EAAMsG,UAAjDkB,cAEFV,EACJrI,EAAAC,EAAAC,cAAAoI,GAAA,OACGO,EAASG,IAAI,SAACnB,EAASoB,GAAV,OACZjJ,EAAAC,EAAAC,cAAAoI,GAAA,EAAMtH,KAAN,CAAWpJ,IAAKqR,EAAGxI,QAAS,kBAAMsI,EAAcE,KAC7CpB,EAAQ9F,SAMjB,OACE/B,EAAAC,EAAAC,cAAAmC,EAAA,OACErC,EAAAC,EAAAC,cAAAuC,EAAA,GAAKC,KAAM,IACX1C,EAAAC,EAAAC,cAAAuC,EAAA,GAAKC,KAAM,IACT1C,EAAAC,EAAAC,cAAC8H,GAAD,KACEhI,EAAAC,EAAAC,cAAAqI,GAAA,GAAUC,QAASH,GACjBrI,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,cAAS4I,EAAgB/G,MACzB/B,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SACEqC,MAAO,CAAE0E,MAAO,QAChBJ,UAAU,WACVpG,QAAS,kBAAMuG,GAAK8B,EAAgBrP,WAEnCqP,EAAgBrP,aAM3BuG,EAAAC,EAAAC,cAAAuC,EAAA,GAAKC,KAAM,GACT1C,EAAAC,EAAAC,cAACiI,GAAD,uSC9ER,IAAMe,GAAiBjB,IAAOC,IAAViB,MAsBL,SAASC,KAAU,IAAApG,EACFC,YAAc,SAAA1B,GAAK,OAAIA,EAAM2B,SAAnDxL,EADwBsL,EACxBtL,SAAUD,EADcuL,EACdvL,QADc4R,EAEApG,YAAc,SAAA1B,GAAK,OAAIA,EAAMsG,QAAQiB,kBAA7DrP,EAFwB4P,EAExB5P,QAAS1B,EAFesR,EAEftR,WACTuR,EAAWrG,YAAc,SAAA1B,GAAK,OAAIA,EAAMkF,QAAxC6C,OAEFC,EAbR,SAAAjK,GAAwC,IAArB7H,EAAqB6H,EAArB7H,QAASC,EAAY4H,EAAZ5H,SAAY8H,EACdC,mBAAS,MADKC,EAAA9J,OAAA+J,EAAA,EAAA/J,CAAA4J,EAAA,GAC/B+J,EAD+B7J,EAAA,GACzB8J,EADyB9J,EAAA,GAKtC,OAHA+D,oBAAU,WACR+F,EAAQ,IAAIlS,OAAK,CAAEI,WAAUD,cAC5B,CAACA,EAASC,IACN6R,EAQME,CAAQ,CAAE/R,WAAUD,YAEjC,IAAK8R,IAAS9P,EAAS,OAAO,KAPE,SASjBiQ,EATiB/K,GAAA,OAAAgL,EAAA7L,MAAAtG,KAAAuG,WAAA,SAAA4L,IAAA,OAAAA,EAAA/T,OAAAsQ,EAAA,EAAAtQ,CAAAuQ,EAAAlG,EAAA7C,KAShC,SAAAC,EAAAuE,GAAA,IAAAzH,EAAAF,EAAAH,EAAAD,EAAAK,EAAAqN,EAAAhP,EAAAsP,EAAA+B,EAAA,OAAAzD,EAAAlG,EAAA3C,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACEtD,EADFyH,EACEzH,SACAF,EAFF2H,EAEE3H,eACAH,EAHF8H,EAGE9H,SACAD,EAJF+H,EAIE/H,WACAK,EALF0H,EAKE1H,gBACAqN,EANF3F,EAME2F,iBANFhK,EAAAE,KAAA,EAQmB8L,EAAK9M,OAAOoN,2BAA2B,CACtD1P,WACAF,eAAgB4B,QAAM7F,MAAMiE,GAC5BH,SAAU+B,QAAM7F,MAAM8D,GACtBI,kBACAL,eAbJ,cAQQtB,EARRgF,EAAAI,KAgBQkK,EAAU0B,EAAKO,sBAAsB/R,GACrC6R,EAAS/B,EAAQkC,gBAAgBxR,GAjBzCgF,EAAAE,KAAA,EAkBQ8L,EAAK9M,OAAOuC,wBAAwB4K,GAlB5C,OAmBEzF,EAAA,EAAQ6F,QAAR,sBACAzC,IApBF,yBAAAhK,EAAAM,SAAAR,OATgCS,MAAAtG,KAAAuG,WAgChC,SAASyH,EAAe/L,EAASuE,GAC/B,OAAOuL,EAAK9M,OAAOwB,WAAWxE,EAASuE,GAGzC,OACEgC,EAAAC,EAAAC,cAACgJ,GAAD,KACElJ,EAAAC,EAAAC,cAAC0I,GAAD,MACA5I,EAAAC,EAAAC,cAAA+J,EAAA,GAAS1H,MAAO,CAAC2E,OAAQ,WAEzBlH,EAAAC,EAAAC,cAAAgK,EAAA,OACGZ,EAAON,IAAI,SAAAhL,GAAO,OACjBgC,EAAAC,EAAAC,cAAAgK,EAAA,EAAMlJ,KAAN,CAAWpJ,IAAKoG,GACdgC,EAAAC,EAAAC,cAACoF,GAAD,CACEtH,QAASA,EACTvE,QAASA,EACT+L,eAAgBA,EAChBC,WAAYiE,SC7DnB,SAASS,GAAoBC,GAC7BC,UAAUC,UAIfD,UAAUC,UAAUC,UAAUH,GAAMtN,KAClC,WACE0N,QAAQC,IAAI,gDAEd,SAASC,GACPF,QAAQ/F,MAAM,+BAAgCiG,KA3BpD,SAAqCN,GACnC,IAAIO,EAAWC,SAAS1K,cAAc,YACtCyK,EAAS5U,MAAQqU,EACjBQ,SAASC,KAAKC,YAAYH,GAC1BA,EAASI,QACTJ,EAASK,SAET,IACE,IACMC,EADaL,SAASM,YAAY,QACf,aAAe,eACxCV,QAAQC,IAAI,sCAAwCQ,GACpD,MAAOP,GACPF,QAAQ/F,MAAM,iCAAkCiG,GAGlDE,SAASC,KAAKM,YAAYR,GAIxBS,CAA4BhB,GCZjB,SAASiB,KAAW,IACzBC,EAAarI,YAAc,SAAA1B,GAAK,OAAIA,EAAMC,SAA1C8J,SAER,OACEtL,EAAAC,EAAAC,cAAA,OAAKqC,MAAO,CAAEgJ,SAAU,QAASrE,OAAQ,WAAaoE,EAAWtL,EAAAC,EAAAC,cAACkJ,GAAD,MAAcpJ,EAAAC,EAAAC,cAACqE,EAAD,OAI5E,SAASyC,GAAKoD,GACnBD,GAAoBC,GACpBjG,EAAA,EAAQqH,KAAK,UAAW,GCbX,SAASC,KACtB,IAAMC,EAAWpK,YAAgB,SAAAC,GAAK,OAAIA,EAAMmK,WAE1CrD,EACJrI,EAAAC,EAAAC,cAAAoI,GAAA,OACEtI,EAAAC,EAAAC,cAAAoI,GAAA,EAAMtH,KAAN,CAAWP,QAASiL,GAApB,cAIJ,OACE1L,EAAAC,EAAAC,cAAAqI,GAAA,GAAUC,QAASH,EAAMI,QAAS,CAAC,UACjCzI,EAAAC,EAAAC,cAAAyC,GAAA,GAAMpC,KAAK,UAAUgC,MAAO,CAAEqE,WAAY,6SCNxC+E,eAEFC,GAAS3D,YAAO4D,EAAA,EAAOD,OAAd3D,CAAH6D,MAINC,GAAa9D,IAAOC,IAAV/L,MAOhB,SAAS6P,KACP,OACEhM,EAAAC,EAAAC,cAAAmC,EAAA,GAAK9B,KAAK,QACRP,EAAAC,EAAAC,cAAAuC,EAAA,GAAKC,KAAM,IACT1C,EAAAC,EAAAC,cAAA,yBAEEF,EAAAC,EAAAC,cAAA,iBACGF,EAAAC,EAAAC,cAAA,kBADH,MACqBF,EAAAC,EAAAC,cAAA,kBADrB,WAKJF,EAAAC,EAAAC,cAAAuC,EAAA,GAAKC,KAAM,GAAIH,MAAO,CAAE0J,UAAW,UACjCjM,EAAAC,EAAAC,cAACoD,EAAD,MACAtD,EAAAC,EAAAC,cAACuL,GAAD,QAMO,SAASS,KACtB,IAAMC,EAAgB7K,YAAgB,SAAAC,GAAK,OAAIA,EAAMC,OAAO2K,gBACtDC,EAAiBnJ,YAAc,SAAA1B,GAAK,OAAIA,EAAMC,OAAO6K,WAM3D,OAJA5I,oBAAU,WACR0I,KACC,IAEoB,OAAnBC,EAAgC,KAGlCpM,EAAAC,EAAAC,cAAC6L,GAAD,KACE/L,EAAAC,EAAAC,cAAA2L,EAAA,GAAQhF,UAAU,QAChB7G,EAAAC,EAAAC,cAAC0L,GAAD,CAAQU,MAAM,QACZtM,EAAAC,EAAAC,cAAC8L,GAAD,OAEFhM,EAAAC,EAAAC,cAACyL,GAAD,CAASpJ,MAAO,CAAEC,QAAS,SAAW4J,EAAiBpM,EAAAC,EAAAC,cAACmL,GAAD,MAAerL,EAAAC,EAAAC,cAAC0C,EAAD,uDCpDxE2J,GAAK,IAAIC,KAETC,GAAgB,CACpB1K,KAAM,WACNrK,SAAU,wCACVD,QAAS,sEAGX,SAASiV,KACP,OAAOC,KAAEC,MAAM,GAAIH,GAAeF,GAAGtU,IAAI,WAG3C,IAkLesJ,GAlLDsL,YACZ,CACE3J,OAAQ,CACNnB,KAAM,GACNrK,SAAU,GACVD,QAAS,GACTqV,QAAQ,EAERC,QAASC,YAAS,SAAA9J,GAAU,IAClB4J,EAAoC5J,EAApC4J,OAAQ/K,EAA4BmB,EAA5BnB,KAAMrK,EAAsBwL,EAAtBxL,SAAUD,EAAYyL,EAAZzL,QAChC,OAAOqV,KAAY/K,IAASrK,IAAaD,KAG3CwV,UAAWC,YAAO,SAACC,EAAOjK,GACxByJ,KAAEC,MAAMO,EAAOV,GAAevJ,KAGhCK,WAAY6J,YAAM,SAAC/M,EAASgN,EAAV/N,GAAsC,IAAjBgO,EAAiBhO,EAAjBgO,WAC/BpK,EAASwJ,KACfrM,EAAQ4M,UAAU/J,GAClBoK,EAAW/D,KAAO,IAAIjS,OAAK,CAAEG,QAASyL,EAAOzL,QAASC,SAAUwL,EAAOxL,aAEzEyL,WAAYiK,YAAM,SAAC/M,EAAS6C,GAC1BqJ,GAAGgB,IAAI,SAAUrK,GACjB0H,SAAS4C,SAASC,YAGtBjM,OAAQ,CACN8J,UAAU,EACVe,SAAU,KAEVqB,UAAWR,YAAO,SAACC,EAAO7B,GACxB6B,EAAM7B,SAAWA,IAGnBqC,YAAaT,YAAO,SAACC,EAAOd,GAC1Bc,EAAMd,SAAWA,IAGnBF,cAAeiB,YAAM,SAAC/M,GACpB,IAAMgM,EAAWE,GAAGqB,aAAaC,SAAS,YAC1CxN,EAAQsN,YAAYtB,KAItBhL,eAAgB+L,YAAM,SAAC/M,EAADuB,EAAA2D,GAAsE,IAA1D1N,EAA0D+J,EAA1D/J,SAAU8J,EAAgDC,EAAhDD,SAAcmM,EAAkCvI,EAAlCuI,iBAAkCvI,EAAjB+H,WACjDS,IAAM,IAAIvB,KAAS,CACzCwB,aAAc,MACdC,iBAAkBtM,KAEhB4L,IAAI,WAAY1V,GAGpB,IAAMqW,EAAeJ,IAAkBjG,QAAQqG,aAC/CvB,KAAEwB,MAAM,GAAGC,QAAQ,SAAA7S,GAAK,OACtB2S,EAAa,CAAEjT,aAAcM,EAAOwG,KAAI,WAAApI,OAAa4B,EAAQ,OAE/D8E,EAAQsN,aAAY,KAItBnJ,aAAc4I,YAAM,SAAC/M,EAASsB,EAAV0F,GAAwD,IAAlCyG,EAAkCzG,EAAlCyG,gBAClCC,EADoE1G,EAAjBiG,WACjCS,IAAM,IAAIvB,KAAS,CACzCwB,aAAc,MACdC,iBAAkBtM,IAEpB,IACE,IAAM9J,EAAWkW,EAAI9V,IAAI,YAUzB,OARI0U,KAAE0B,QAAQN,EAAI9V,IAAI,cACpBoI,EAAQ8L,cAAc,CAAExK,WAAU9J,aAGbiW,IAAkBjG,QAC1ByG,iBAEfjO,EAAQqN,WAAU,IACX,EACP,MAAOa,GACP,OAAO,MAIb1G,QAAS,CACPgB,SAAU,GACVtN,MAAO,EAEP+S,eAAgBlB,YAAM,SAAC/M,GACrBA,EAAQmO,oBAGV1F,gBAAiBkE,YAAS,SAAAG,GACxB,OAAOA,EAAMtE,SAASsE,EAAM5R,SAG9B2S,aAAcd,YAAM,SAAC/M,EAASgN,EAAV/F,GAAsC,IAAjBgG,EAAiBhG,EAAjBgG,WAC/BrS,EAAuBoS,EAAvBpS,aAAc8G,EAASsL,EAATtL,KACdwH,EAAc+D,EAAd/D,KAAMwE,EAAQT,EAARS,IACRlW,EAAWkW,EAAI9V,IAAI,YAGnBF,EADSwR,EAAKkF,qBAAqB5W,GACf2D,cAAcP,GAClC4M,EAAU0B,EAAKO,sBAAsBjO,QAAM7F,MAAM+B,IAEjD8Q,EAAWkF,EAAI9V,IAAI,aAAe,GACxC8V,EAAIR,IACF,WACA1E,EAASlP,OAAO,CACdoI,OACA2M,UAAWzT,EACXlD,WAAY8D,QAAM7F,MAAM+B,GACxB0B,QAASoC,QAAM7F,MAAM6R,EAAQpO,cAKnCmO,gBAAiBwF,YAAM,SAAC/M,EAASgN,EAAVsB,GAAsC,IAGvD9G,EAHsCyF,EAAiBqB,EAAjBrB,WAClCvL,EAAqBsL,EAArBtL,KAAMhK,EAAesV,EAAftV,WACNwR,EAAc+D,EAAd/D,KAAMwE,EAAQT,EAARS,IAEd,IACElG,EAAU0B,EAAKO,sBAAsB/R,GACrC,MAAOwW,GAEP,YADAK,MAAML,EAAEpK,SAIV,IAAM0E,EAAWkF,EAAI9V,IAAI,aAAe,GACxC8V,EAAIR,IACF,WACA1E,EAASlP,OAAO,CACdoI,OACAhK,WAAY8D,QAAM7F,MAAM+B,GACxB0B,QAASoC,QAAM7F,MAAM6R,EAAQpO,YAGjC4G,EAAQwO,wBAGVL,gBAAiBpB,YAAM,SAAC/M,EAASgN,EAAVyB,GAAsC,IAErDjG,EAFqDiG,EAAjBxB,WAClCS,IACa9V,IAAI,YAEzBoI,EAAQ0O,YAAYlG,KAGtBgG,oBAAqBzB,YAAM,SAAC/M,EAASgN,EAAV2B,GAAoC,IAAfC,EAAeD,EAAfC,SAC9C5O,EAAQmO,kBACR,IAAMrB,EAAQ8B,IACd5O,EAAQ0I,cAAcoE,EAAMtE,SAASzS,OAAS,KAGhD2S,cAAemE,YAAO,SAACC,EAAO5R,GAC5B4R,EAAM5R,MAAQA,IAGhBwT,YAAa7B,YAAO,SAACC,EAAOtE,GAC1BsE,EAAMtE,SAAWA,KAIrBpC,MAAO,CACL6C,OAAQ,CAAC,uEAGXoC,SAAU0B,YAAM,WACdb,GAAG2C,YACHtE,SAAS4C,SAASC,YAGtB,CACEH,WAAY,CACV/D,KAAM,IAAIjS,OAAKoV,MACfqB,IAAK,QCxKIoB,6LAfK1K,EAAO2K,GACvBjL,EAAA,EAAQM,MAAMA,EAAMN,0CAIpB,OACEnE,EAAAC,EAAAC,cAACmP,EAAA,EAAD,CAAe9N,MAAOA,IACpBvB,EAAAC,EAAAC,cAAAoP,EAAA,OACEtP,EAAAC,EAAAC,cAACgM,GAAD,eATQqD,aCMEC,QACW,cAA7BC,OAAOjC,SAASkC,UAEe,UAA7BD,OAAOjC,SAASkC,UAEhBD,OAAOjC,SAASkC,SAASC,MACvB,2DCZNC,IAAS9N,OAAO9B,EAAAC,EAAAC,cAAC2P,GAAD,MAASjF,SAASkF,eAAe,SD2H3C,kBAAmBzF,WACrBA,UAAU0F,cAAcC,MAAMlT,KAAK,SAAAmT,GACjCA,EAAaC","file":"static/js/main.60d4f7ad.chunk.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * remove 0x from a hex string\n * @param hex\n */\n\nfunction rm0x(hex) {\n  return hex.startsWith('0x') ? hex.slice(2) : hex;\n}\n\nexports.rm0x = rm0x;\n/**\n * parse to hex string\n * @param x\n */\n\nfunction toHex(x) {\n  if (typeof x === 'string') {\n    if (x.startsWith('0x')) {\n      return x;\n    }\n\n    return '0x' + x;\n  }\n\n  if (typeof x === 'number') {\n    var hex = Number(x).toString(16);\n    return hex.length % 2 === 1 ? '0x0' + hex : '0x' + hex;\n  }\n\n  return '0x' + x.toString('hex');\n}\n\nexports.toHex = toHex;\n/**\n * parse a hex string to buffer\n * @param x\n */\n\nfunction toBuffer(x) {\n  return Buffer.from(rm0x(x), 'hex');\n}\n\nexports.toBuffer = toBuffer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * HD Wallet coin type\n */\n\nexports.COIN_TYPE = 2;\n/**\n * The account address starts with \"10\"\n */\n\nexports.PREFIX_ADDRESS_ACCOUNT = 0x10;\n/**\n * There is a timeout gap in Muta chain, by default,\n * Muta only process request a period of time according to the epoch height\n */\n\nexports.DEFAULT_TIMEOUT_GAP = 20;\n/**\n * The RLP Serialized transfer transaction prefix\n */\n\nexports.PREFIX_TRANSACTION_TRANSFER = 0x00;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar SyncAccount_1 = require(\"./SyncAccount\");\n\nexports.SyncAccount = SyncAccount_1.SyncAccount;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar HDWallet_1 = require(\"./HDWallet\");\n\nexports.HDWallet = HDWallet_1.HDWallet;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/yonghui/toolchain/muta-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/yonghui/toolchain/muta-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar account_1 = require(\"./account\");\n\nvar constant_1 = require(\"./core/constant\");\n\nvar index_1 = require(\"./index\");\n\nvar wallet_1 = require(\"./wallet\");\n/**\n * Main module of the SDK\n */\n\n\nvar Muta =\n/*#__PURE__*/\nfunction () {\n  function Muta(context) {\n    _classCallCheck(this, Muta);\n\n    this.context = {\n      chainId: context.chainId,\n      endpoint: context.endpoint,\n      timeoutGap: constant_1.DEFAULT_TIMEOUT_GAP\n    };\n  }\n\n  _createClass(Muta, [{\n    key: \"hdWalletFromMnemonic\",\n\n    /**\n     * create a HD wallet from mnemonic\n     * @param mnemonic 12 mnemonic words\n     */\n    value: function hdWalletFromMnemonic(mnemonic) {\n      return wallet_1.HDWallet.fromMnemonic(mnemonic);\n    }\n    /**\n     * create a account from private key\n     * @param privateKey\n     */\n\n  }, {\n    key: \"accountFromPrivateKey\",\n    value: function accountFromPrivateKey(privateKey) {\n      return account_1.SyncAccount.fromPrivateKey(privateKey);\n    }\n  }, {\n    key: \"client\",\n    get: function get() {\n      var _this$context = this.context,\n          endpoint = _this$context.endpoint,\n          chainId = _this$context.chainId;\n      return new index_1.Client(endpoint, chainId);\n    }\n  }]);\n\n  return Muta;\n}();\n\nexports.Muta = Muta;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/yonghui/toolchain/muta-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/yonghui/toolchain/muta-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar core_1 = require(\"../core\");\n\nvar utils_1 = require(\"../utils\");\n/**\n * SyncAccount provides the API in sync way, convenient but not so safe.\n * use case:\n * ```typescript\n * var account = SyncAccount.fromPrivateKey(\"0x45c56be699dca666191ad3446897e0f480da234da896270202514a0e1a587c3f\");\n * var signature = account.signTransaction({\n *    \"carryingAssetId\": \"0xfee0decb4f6a76d402f200b5642a9236ba455c22aa80ef82d69fc70ea5ba20b5\",\n *    \"chainId\": \"0xb6a4d7da21443f5e816e8700eea87610e6d769657d6b8ec73028457bf2ca4036\",\n *     \"feeAssetId\": \"0xfee0decb4f6a76d402f200b5642a9236ba455c22aa80ef82d69fc70ea5ba20b5\",\n *    \"feeCycle\": \"0xff\",\n *     \"receiver\": \"0x103e9b982b443592ffc3d4c2a484c220fb3e29e2e4\",\n *     \"nonce\": \"0x00000000000000000000000000000000bcc53bb0e6b57f561ebf1f0bc65fa8b1\",\n *     \"timeout\": \"0x22752\",\n *     \"carryingAmount\": \"0x01\"\n *   });\n * // output:\n * // {\n * //       \"txHash\": \"0x2cb89cbdd613f7af728a095e3949d38de45e4fd56ce5618a076bd40becd5f9de\",\n * //       \"pubkey\": \"0x031288a6788678c25952eba8693b2f278f66e2187004b64ac09416d07f83f96d5b\",\n * //       \"signature\": \"0xd1dc56336facdcbff3caeec4f5c179f50709aa16f1f981d00b0cad543c14e9e631392b974c52b1f4478730f3f0c501b81d302eb2665d8d8b11297466d2aa8bac\"\n * // }\n * ```\n */\n\n\nvar SyncAccount =\n/*#__PURE__*/\nfunction () {\n  function SyncAccount(privateKey) {\n    _classCallCheck(this, SyncAccount);\n\n    this._privateKey = privateKey;\n  }\n\n  _createClass(SyncAccount, [{\n    key: \"signTransaction\",\n    value: function signTransaction(tx) {\n      return core_1.signTransferTransaction(tx, this._privateKey);\n    }\n  }, {\n    key: \"_publicKey\",\n    get: function get() {\n      return core_1.publicKeyCreate(this._privateKey);\n    }\n  }, {\n    key: \"_address\",\n    get: function get() {\n      return core_1.addressFromPublicKey(this._publicKey);\n    }\n  }, {\n    key: \"publicKey\",\n    get: function get() {\n      return utils_1.toHex(this._publicKey);\n    }\n  }, {\n    key: \"address\",\n    get: function get() {\n      return utils_1.toHex(this._address);\n    }\n  }], [{\n    key: \"fromPrivateKey\",\n    value: function fromPrivateKey(privateKey) {\n      return new SyncAccount(utils_1.toBuffer(privateKey));\n    }\n  }]);\n\n  return SyncAccount;\n}();\n\nexports.SyncAccount = SyncAccount;","\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar keccak_1 = __importDefault(require(\"keccak\"));\n\nvar rlp_1 = require(\"rlp\");\n\nvar secp256k1_1 = require(\"secp256k1\");\n\nexports.publicKeyCreate = secp256k1_1.publicKeyCreate;\n\nvar utils_1 = require(\"../utils\");\n\nvar constant_1 = require(\"./constant\");\n\nfunction hash(buffer) {\n  return keccak_1.default('keccak256').update(buffer).digest();\n}\n/**\n * calculate an account address from a public key\n * @param publicKey\n */\n\n\nfunction addressFromPublicKey(publicKey) {\n  var hashed = hash(publicKey);\n  var address = hashed.slice(0, 20);\n  var magicAddressPrefix = Buffer.from([constant_1.PREFIX_ADDRESS_ACCOUNT]);\n  return Buffer.concat([Buffer.from(magicAddressPrefix), Buffer.from(address)]);\n}\n\nexports.addressFromPublicKey = addressFromPublicKey;\n/**\n * create a Transfer Transaction signature\n * @param tx\n * @param privateKey\n */\n\nfunction signTransferTransaction(tx, privateKey) {\n  var orderedTx = [constant_1.PREFIX_TRANSACTION_TRANSFER, tx.chainId, tx.feeAssetId, tx.feeCycle, tx.nonce, tx.timeout];\n  orderedTx = orderedTx.concat([tx.carryingAmount, tx.carryingAssetId, tx.receiver]);\n  var encoded = rlp_1.encode(orderedTx);\n  var txHash = hash(encoded);\n\n  var _secp256k1_1$sign = secp256k1_1.sign(txHash, privateKey),\n      signature = _secp256k1_1$sign.signature;\n\n  return Object.assign(Object.assign({}, tx), {\n    pubkey: utils_1.toHex(secp256k1_1.publicKeyCreate(privateKey)),\n    signature: utils_1.toHex(signature),\n    txHash: utils_1.toHex(txHash)\n  });\n}\n\nexports.signTransferTransaction = signTransferTransaction;","\"use strict\";\n\nvar _classCallCheck = require(\"/Users/yonghui/toolchain/muta-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/yonghui/toolchain/muta-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar bip39_1 = require(\"bip39\");\n\nvar HDKey = __importStar(require(\"hdkey\"));\n\nvar account_1 = require(\"../account\");\n\nvar constant_1 = require(\"../core/constant\");\n\nvar utils_1 = require(\"../utils\");\n/**\n * HD Wallet, for more information see\n * [bip32](https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki),\n * [bip39](https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki)\n * and [bip44](https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki)\n */\n\n\nvar HDWallet =\n/*#__PURE__*/\nfunction () {\n  function HDWallet(mnemonic) {\n    _classCallCheck(this, HDWallet);\n\n    this.mnemonic = mnemonic;\n  }\n\n  _createClass(HDWallet, [{\n    key: \"getPrivateKey\",\n\n    /**\n     * // https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki#account\n     * @param accountIndex\n     */\n    value: function getPrivateKey(accountIndex) {\n      var seed = bip39_1.mnemonicToSeedSync(this.mnemonic);\n      var hd = HDKey.fromMasterSeed(seed);\n      var hdInstance = hd.derive(HDWallet.getHDPath(accountIndex));\n      return hdInstance._privateKey;\n    }\n  }, {\n    key: \"accountByIndex\",\n    value: function accountByIndex(index) {\n      return account_1.SyncAccount.fromPrivateKey(utils_1.toHex(this.getPrivateKey(index)));\n    }\n  }], [{\n    key: \"fromMnemonic\",\n    value: function fromMnemonic(mnemonic) {\n      return new HDWallet(mnemonic);\n    }\n  }, {\n    key: \"generateMnemonic\",\n    value: function generateMnemonic() {\n      return bip39_1.generateMnemonic();\n    }\n  }, {\n    key: \"getHDPath\",\n    value: function getHDPath(index) {\n      return \"m/44'/\".concat(constant_1.COIN_TYPE, \"'/\").concat(index, \"'/0/0\");\n    }\n  }]);\n\n  return HDWallet;\n}();\n\nexports.HDWallet = HDWallet;","\"use strict\";\n\nfunction __export(m) {\n  for (var p in m) {\n    if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n  }\n}\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar utils = __importStar(require(\"./utils\"));\n\nexports.utils = utils;\n\n__export(require(\"./Muta\"));\n\n__export(require(\"./client/Client\"));\n\n__export(require(\"./wallet\"));","\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/yonghui/toolchain/muta-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/yonghui/toolchain/muta-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _taggedTemplateLiteral = require(\"/Users/yonghui/toolchain/muta-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/taggedTemplateLiteral\");\n\nvar _classCallCheck = require(\"/Users/yonghui/toolchain/muta-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/yonghui/toolchain/muta-wallet/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"mutation {\\n      sendTransferTransaction(\\n        inputRaw: {\\n          chainId: \\\"\", \"\\\",\\n          feeCycle: \\\"\", \"\\\",\\n          feeAssetId: \\\"\", \"\\\",\\n          nonce: \\\"\", \"\\\",\\n          timeout: \\\"\", \"\\\"\\n        },\\n        inputAction: {\\n          carryingAmount: \\\"\", \"\\\",\\n          carryingAssetId: \\\"\", \"\\\",\\n          receiver: \\\"\", \"\\\",\\n        },\\n        inputEncryption: {\\n          txHash: \\\"\", \"\\\",\\n          pubkey: \\\"\", \"\\\",\\n          signature: \\\"\", \"\\\"\\n        }\\n      )}\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"{ getBalance(address: \\\"\", \"\\\", id: \\\"\", \"\\\") }\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n        {\\n          getLatestEpoch {\\n            header {\\n              epochId\\n            }\\n          }\\n        }\\n      \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar apollo_boost_1 = __importDefault(require(\"apollo-boost\")); // tslint:disable-next-line:no-submodule-imports\n\n\nrequire(\"cross-fetch/polyfill\");\n\nvar graphql_tag_1 = __importDefault(require(\"graphql-tag\"));\n\nvar random_bytes_1 = __importDefault(require(\"random-bytes\"));\n\nvar constant_1 = require(\"../core/constant\");\n\nvar utils_1 = require(\"../utils\");\n/**\n * Client for call Muta GraphQL API\n */\n\n\nvar Client =\n/*#__PURE__*/\nfunction () {\n  function Client(entry, chainId) {\n    _classCallCheck(this, Client);\n\n    this.endpoint = entry;\n    this.chainId = chainId;\n    this.client = new apollo_boost_1.default({\n      fetchOptions: {\n        fetchOptions: {\n          mode: 'no-cors'\n        }\n      },\n      uri: this.endpoint\n    });\n  }\n  /**\n   * get epoch id(or epoch height as a hex string)\n   */\n\n\n  _createClass(Client, [{\n    key: \"getLatestEpochId\",\n    value: function getLatestEpochId() {\n      return this.query(graphql_tag_1.default(_templateObject())).then(function (res) {\n        return res.data.getLatestEpoch.header.epochId;\n      });\n    }\n  }, {\n    key: \"getEpochHeight\",\n    value: function () {\n      var _getEpochHeight = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var epochId;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.getLatestEpochId();\n\n              case 2:\n                epochId = _context.sent;\n                return _context.abrupt(\"return\", Number('0x' + epochId));\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getEpochHeight() {\n        return _getEpochHeight.apply(this, arguments);\n      }\n\n      return getEpochHeight;\n    }()\n    /**\n     *\n     * @param address\n     * @param assetId Identifier of asset in Muta. ie.\n     */\n\n  }, {\n    key: \"getBalance\",\n    value: function getBalance(address, assetId) {\n      return this.query(graphql_tag_1.default(_templateObject2(), address, assetId)).then(function (res) {\n        return Number('0x' + res.data.getBalance);\n      });\n    }\n    /**\n     * A transaction often takes a lot of message like nonce, block height,\n     * timeout and so on. This function helps you to assemble a transaction quickly\n     * with some commonly used parameters.\n     * @param options\n     */\n\n  }, {\n    key: \"prepareTransferTransaction\",\n    value: function () {\n      var _prepareTransferTransaction = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(options) {\n        var _a, _b, nonce, height, timeout;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                nonce = utils_1.toHex(random_bytes_1.default.sync(32).toString('hex'));\n                _context2.next = 3;\n                return this.getEpochHeight();\n\n              case 3:\n                height = _context2.sent;\n                timeout = utils_1.toHex(height + constant_1.DEFAULT_TIMEOUT_GAP - 1);\n                return _context2.abrupt(\"return\", {\n                  chainId: this.chainId,\n                  nonce: nonce,\n                  timeout: timeout,\n                  carryingAmount: options.carryingAmount,\n                  carryingAssetId: options.carryingAssetId,\n                  receiver: options.receiver,\n                  feeAssetId: (_a = options.feeAssetId, _a !== null && _a !== void 0 ? _a : options.carryingAssetId),\n                  feeCycle: (_b = options.feeCycle, _b !== null && _b !== void 0 ? _b : '0xff')\n                });\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function prepareTransferTransaction(_x) {\n        return _prepareTransferTransaction.apply(this, arguments);\n      }\n\n      return prepareTransferTransaction;\n    }()\n    /**\n     * Return a transaction hash after sentTransferTransaction\n     */\n\n  }, {\n    key: \"sendTransferTransaction\",\n    value: function () {\n      var _sendTransferTransaction = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(options) {\n        var _a, _b, res;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.mutation(graphql_tag_1.default(_templateObject3(), options.chainId, options.feeCycle, options.feeAssetId, options.nonce, options.timeout, options.carryingAmount, options.carryingAssetId, options.receiver, options.txHash, options.pubkey, options.signature));\n\n              case 2:\n                res = _context3.sent;\n                return _context3.abrupt(\"return\", (_b = (_a = res) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.sendTransferTransaction);\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function sendTransferTransaction(_x2) {\n        return _sendTransferTransaction.apply(this, arguments);\n      }\n\n      return sendTransferTransaction;\n    }()\n  }, {\n    key: \"query\",\n    value: function query(_query) {\n      return this.client.query({\n        query: _query\n      });\n    }\n  }, {\n    key: \"mutation\",\n    value: function mutation(_mutation) {\n      return this.client.mutate({\n        mutation: _mutation\n      });\n    }\n  }]);\n\n  return Client;\n}();\n\nexports.Client = Client;","import { HDWallet } from 'muta-sdk';\nimport React, { useMemo, useState } from 'react';\nimport { Button, Card } from 'antd';\n\nexport default function MnemonicCreator({ onSubmit }) {\n  const [created, setCreated] = useState(false);\n  const mnemonic = useMemo(() => HDWallet.generateMnemonic(), undefined);\n  return (\n    <Card\n      title=\"Keep mnemonics \"\n      actions={[\n        <Button type=\"danger\" disabled={!created} onClick={onSubmit}>\n          I have kept them on a stone!\n        </Button>,\n      ]}\n    >\n      {created ? (\n        <p>\n          <strong>{mnemonic}</strong>\n        </p>\n      ) : (\n        <div>\n          <p>\n            You will see 12 mnemonic word, this 12 words is very important, missing them and you\n            will miss your Muta asset\n          </p>\n          <Button type=\"danger\" onClick={() => setCreated(true)}>\n            OK, I know\n          </Button>\n        </div>\n      )}\n    </Card>\n  );\n}\n","export function validateRequired(value) {\n  return value ? undefined : 'required';\n}\n\nexport function validateAccountAddress(value) {\n  if (/0x10[0123456789abcdef]{40}/i.test(value)) return undefined;\n  return 'invalid address';\n}\n\nexport function validateUint256(value) {\n  if (/0x[0123456789abcdef]{64}/i.test(value)) return undefined;\n  return 'invalid input';\n}\n\n","import React from 'react';\nimport { Formik } from 'formik';\nimport { Form, Input, SubmitButton } from '@jbuschke/formik-antd';\nimport { useStoreActions } from 'easy-peasy';\nimport { validateRequired } from '../validate';\n\nconst FormItem = Form.Item;\nconst TextArea = Input.TextArea;\nconst Password = Input.Password;\n\nexport default function MnemonicImporter() {\n  const { importMnemonic } = useStoreActions(store => store.wallet);\n\n  function handleSubmit({ mnemonic, password }, { setSubmitting }) {\n    importMnemonic({ mnemonic, password });\n    setSubmitting(false);\n  }\n\n  return (\n    <Formik\n      initialValues={{ mnemonic: '', password: '' }}\n      onSubmit={handleSubmit}\n      render={() => (\n        <Form>\n          <FormItem name=\"mnemonic\" label=\"Mnemonic\" validate={validateRequired}>\n            <TextArea name=\"mnemonic\" />\n          </FormItem>\n          <FormItem name=\"password\" label=\"Password\" validate={validateRequired}>\n            <Password name=\"password\" />\n          </FormItem>\n          <SubmitButton>Import</SubmitButton>\n        </Form>\n      )}\n    />\n  );\n}\n","import React, { useState } from 'react';\nimport { Button, Card, Row, Col } from 'antd';\nimport MnemonicCreator from './MnenmoicCreator';\nimport MnemonicImporter from './MnemonicImporter';\n\nfunction ChoiceGuide({ onSelect }) {\n  return (\n    <div>\n      <h1>I want to ...</h1>\n\n      <Row gutter={16} style={{ padding: '16px' }}>\n        <Col span={12}>\n          <Card\n            title=\"Create new onw\"\n            actions={[\n              <Button icon=\"plus\" onClick={() => onSelect('create')}>\n                Create\n              </Button>,\n            ]}\n          >\n            Create a new wallet.\n          </Card>\n        </Col>\n        <Col span={12}>\n          <Card\n            title=\"Import from existing\"\n            actions={[\n              <Button icon=\"import\" onClick={() => onSelect('import')}>\n                Import\n              </Button>,\n            ]}\n          >\n            Import from existing 12 mnemonics\n          </Card>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nexport default function Guide() {\n  const [step, setStep] = useState('choice');\n\n  return (\n    <div>\n      {step === 'choice' && <ChoiceGuide onSelect={setStep} />}\n      {step === 'create' && <MnemonicCreator onSubmit={() => setStep('import')} />}\n      {step === 'import' && <MnemonicImporter />}\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { Formik } from 'formik';\nimport { Form, Input, SubmitButton } from '@jbuschke/formik-antd';\nimport { useStoreActions, useStoreState } from 'easy-peasy';\nimport { Alert, Button, Modal } from 'antd';\nimport { validateRequired } from './validate';\n\nfunction Config({ onSubmit }) {\n  const { name, endpoint, chainId } = useStoreState(store => store.config);\n  const { saveConfig } = useStoreActions(store => store.config);\n\n  function handleSubmit(config, { setSubmitting }) {\n    saveConfig(config);\n    setSubmitting(false);\n    if (onSubmit) onSubmit();\n  }\n\n  return (\n    <Formik\n      initialValues={{ name, endpoint, chainId }}\n      onSubmit={handleSubmit}\n      render={() => (\n        <Form>\n          <Form.Item name=\"name\" label=\"Name\" required validate={validateRequired}>\n            <Input name=\"name\" placeholder=\"network name\" />\n          </Form.Item>\n          <Form.Item name=\"endpoint\" label=\"Endpoint\" required validate={validateRequired}>\n            <Input name=\"endpoint\" placeholder=\"graphql API endpoint\" />\n          </Form.Item>\n          <Form.Item name=\"chainId\" label=\"ChainID\" required validate={validateRequired}>\n            <Input name=\"chainId\" placeholder=\"chainID\" />\n          </Form.Item>\n\n          <SubmitButton disabled={false}>Save</SubmitButton>\n        </Form>\n      )}\n    />\n  );\n}\n\nexport default function NetworkConfig() {\n  const loadConfig = useStoreActions(store => store.config.loadConfig);\n  const networkName = useStoreState(store => store.config.name);\n  useEffect(() => {\n    loadConfig();\n  }, []);\n\n  const [open, setOpen] = useState(false);\n\n  function openConfigModal() {\n    setOpen(true);\n  }\n\n  function closeConfigModal() {\n    setOpen(false);\n  }\n\n  return (\n    <>\n      <Button onClick={openConfigModal}>{networkName}</Button>\n      <Modal visible={open} onCancel={closeConfigModal} footer={null}>\n        <Alert\n          message={\n            <div>\n              Since Muta not supports CORS this moment, we should install the\n              <a\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n                href=\"https://chrome.google.com/webstore/detail/allow-cors-access-control/lhobafahddgcelffkeicbaginigeejlf\"\n              >\n                &nbsp;CORS&nbsp;\n              </a>\n              plugin at first. Remember to disable the plugin after used\n            </div>\n          }\n          type=\"info\"\n        />\n\n        <Config onSubmit={closeConfigModal} />\n      </Modal>\n    </>\n  );\n}\n","import React from 'react';\nimport { message } from 'antd';\nimport { Formik } from 'formik';\nimport { Form, Input, SubmitButton } from '@jbuschke/formik-antd';\nimport { useStoreActions } from 'easy-peasy';\nimport { validateRequired } from '../validate';\n\nconst Password = Input.Password;\nconst FormItem = Form.Item;\n\nexport default function Unlock() {\n  const unlockWallet = useStoreActions(store => store.wallet.unlockWallet);\n  function handleSubmit({ password }, { setSubmitting }) {\n    const unlocked = unlockWallet(password);\n    if (!unlocked) {\n      message.error('wrong password');\n    }\n    setSubmitting(false);\n  }\n\n  return (\n    <Formik\n      initialValues={{ password: '' }}\n      onSubmit={handleSubmit}\n      render={() => (\n        <Form>\n          <FormItem name=\"password\" label=\"password\" required validate={validateRequired}>\n            <Password name=\"password\" placeholder=\"keystore password\" />\n          </FormItem>\n          <SubmitButton>Unlock</SubmitButton>\n        </Form>\n      )}\n    />\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { Button, Card, Modal, Tag, Tooltip, Typography } from 'antd';\nimport { Formik } from 'formik';\nimport { Form, Input, InputNumber, SubmitButton } from '@jbuschke/formik-antd';\nimport { useSpring, animated } from 'react-spring';\nimport { copy } from './';\nimport { validateAccountAddress, validateRequired } from '../validate';\n\nconst FormItem = Form.Item;\n\nfunction Amount({ value }) {\n  const props = useSpring({ value });\n  return <animated.span>{props.value.interpolate(x => Math.ceil(x))}</animated.span>;\n}\n\nfunction TransferModal({ assetId, visible, onCancel, onSubmit }) {\n  return (\n    <Modal title=\"Transfer\" visible={visible} onCancel={onCancel} footer={null}>\n      <Formik\n        onSubmit={onSubmit}\n        initialValues={{ feeAssetId: assetId, feeCycle: 0xff, receiver: '', carryingAmount: 0 }}\n        render={() => (\n          <Form>\n            <FormItem name=\"receiver\" label=\"Receiver\" required validate={validateAccountAddress}>\n              <Input name=\"receiver\" placeholder=\"receiver\" />\n            </FormItem>\n            <FormItem name=\"carryingAmount\" label=\"Amount\" required validate={validateRequired}>\n              <InputNumber name=\"carryingAmount\" placeholder=\"receiver\" />\n            </FormItem>\n            <FormItem name=\"feeCycle\" label=\"Cycle fee\" required validate={validateRequired}>\n              <InputNumber name=\"feeCycle\" placeholder=\"Cycle fee\" />\n            </FormItem>\n            <FormItem name=\"feeAssetId\" label=\"Fee Asset\" required validate={validateRequired}>\n              <Input name=\"feeAssetId\" />\n            </FormItem>\n            <SubmitButton>OK</SubmitButton>\n          </Form>\n        )}\n      />\n    </Modal>\n  );\n}\n\nexport default function AssetBalance({ assetId, address, onFetchBalance, onTransfer }) {\n  const [shown, setShown] = useState(false);\n  const [balance, setBalance] = useState(0);\n\n  async function refreshBalance(address) {\n    const newBalance = await onFetchBalance(address, assetId);\n    setBalance(newBalance);\n  }\n\n  useEffect(() => {\n    refreshBalance(address);\n    const interval = setInterval(() => refreshBalance(address), 1000);\n    return () => clearInterval(interval);\n  }, [address, onFetchBalance]);\n\n  function showTransferModal() {\n    setShown(true);\n  }\n\n  function closeTransferModal() {\n    setShown(false);\n  }\n\n  function handleSubmit({ carryingAmount, receiver, feeAssetId, feeCycle }, { setSubmitting }) {\n    if (onTransfer) {\n      onTransfer({\n        carryingAmount,\n        receiver,\n        feeAssetId,\n        feeCycle,\n        carryingAssetId: assetId,\n        onTransferFinish() {\n          setSubmitting(false);\n          closeTransferModal();\n        },\n      });\n    }\n  }\n\n  const asset = (\n    <Tooltip title=\"asset id\">\n      <Tag\n        style={{ marginLeft: '8px' }}\n        className=\"copyable\"\n        size=\"large\"\n        color=\"gold\"\n        onClick={() => copy(assetId)}\n      >\n        {assetId.slice(0, 8)}\n      </Tag>\n    </Tooltip>\n  );\n\n  return (\n    <>\n      <Card\n        title={asset}\n        style={{ width: '300px', margin: '0 auto' }}\n        actions={[\n          <Button\n            type=\"primary\"\n            style={{ width: '100%' }}\n            onClick={() => showTransferModal(address, asset)}\n          >\n            Transfer\n          </Button>,\n        ]}\n      >\n        <Typography.Title style={{ margin: '0 auto' }}>\n          <Amount value={balance} />\n        </Typography.Title>\n      </Card>\n      <TransferModal\n        visible={shown}\n        assetId={assetId}\n        onCancel={closeTransferModal}\n        onSubmit={handleSubmit}\n      />\n    </>\n  );\n}\n","import React from 'react';\nimport { Modal } from 'antd';\nimport { Formik } from 'formik';\nimport { Form, Input, SubmitButton } from '@jbuschke/formik-antd';\nimport { useStoreActions } from 'easy-peasy';\nimport { validateRequired, validateUint256 } from '../validate';\n\nconst TextArea = Input.TextArea;\nconst FormItem = Form.Item;\n\nexport default function ExtraAccountModal({ onOk, ...modalProps }) {\n  const addExtraAccount = useStoreActions(store => store.account.addExtraAccount);\n\n  function handleSubmit({ name, privateKey }, { setSubmitting }) {\n    addExtraAccount({ name, privateKey });\n    if (onOk) {\n      setSubmitting(false);\n      onOk();\n    }\n  }\n\n  return (\n    <Modal footer={null} {...modalProps}>\n      <Formik\n        initialValues={{ name: 'Genesis', privateKey: '' }}\n        onSubmit={handleSubmit}\n        render={() => (\n          <Form>\n            <FormItem label=\"name\" name=\"name\" required validate={validateRequired}>\n              <Input name=\"name\" placeholder=\"account name\" />\n            </FormItem>\n            <FormItem label=\"Private key\" name=\"privateKey\" required validate={validateUint256}>\n              <TextArea name=\"privateKey\" placeholder=\"private key\" />\n            </FormItem>\n            <SubmitButton>Import</SubmitButton>\n          </Form>\n        )}\n      />\n    </Modal>\n  );\n}\n","import React, { useState } from 'react';\nimport { Dropdown, Menu, Row, Col, Icon } from 'antd';\nimport { useStoreActions, useStoreState } from 'easy-peasy';\nimport { copy } from './index';\nimport styled from 'styled-components';\nimport ExtraAccount from './ExtraAccount';\n\nconst SwitchWrapper = styled.div`\n  display: inline-block;\n  max-width: 120px;\n  padding: 8px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n\n  &:hover {\n    background: #eee;\n    border-radius: 3px;\n  }\n`;\n\nfunction Operation() {\n  const [shown, setShown] = useState(false);\n\n  function showModal() {\n    setShown(true);\n  }\n\n  function closeModal() {\n    setShown(false);\n  }\n\n  const menu = (\n    <Menu>\n      <Menu.Item onClick={showModal}>\n        <span>\n          <Icon type=\"import\" /> Import private key\n        </span>\n      </Menu.Item>\n    </Menu>\n  );\n  return (\n    <>\n      <ExtraAccount visible={shown} onCancel={closeModal} onOk={closeModal} />\n      <Dropdown overlay={menu} trigger={['click']}>\n        <Icon type=\"ellipsis\" style={{ fontSize: '25px', cursor: 'pointer' }} />\n      </Dropdown>\n    </>\n  );\n}\n\nexport default function AccountSwitch() {\n  const { accounts, selectedAccount } = useStoreState(store => store.account);\n  const { selectAccount } = useStoreActions(store => store.account);\n\n  const menu = (\n    <Menu>\n      {accounts.map((account, i) => (\n        <Menu.Item key={i} onClick={() => selectAccount(i)}>\n          {account.name}\n        </Menu.Item>\n      ))}\n    </Menu>\n  );\n\n  return (\n    <Row>\n      <Col span={3} />\n      <Col span={18}>\n        <SwitchWrapper>\n          <Dropdown overlay={menu}>\n            <div>\n              <strong>{selectedAccount.name}</strong>\n              <br />\n              <small\n                style={{ width: '100%' }}\n                className=\"copyable\"\n                onClick={() => copy(selectedAccount.address)}\n              >\n                {selectedAccount.address}\n              </small>\n            </div>\n          </Dropdown>\n        </SwitchWrapper>\n      </Col>\n      <Col span={3}>\n        <Operation />\n      </Col>\n    </Row>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { useStoreState } from 'easy-peasy';\nimport { Divider, List, message } from 'antd';\nimport styled from 'styled-components';\nimport { Muta, utils } from 'muta-sdk';\nimport AssetBalance from './AssetBalance';\nimport AccountSwitch from './AccountSwitch';\n\nconst BalanceWrapper = styled.div`\n  text-align: center;\n  max-width: 360px;\n  margin: 0 auto;\n\n  .copyable {\n    cursor: pointer;\n    display: inline-block;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n`;\n\nfunction useMuta({ chainId, endpoint }) {\n  const [muta, setMuta] = useState(null);\n  useEffect(() => {\n    setMuta(new Muta({ endpoint, chainId }));\n  }, [chainId, endpoint]);\n  return muta;\n}\n\nexport default function Account() {\n  const { endpoint, chainId } = useStoreState(store => store.config);\n  const { address, privateKey } = useStoreState(store => store.account.selectedAccount);\n  const { assets } = useStoreState(store => store.asset);\n\n  const muta = useMuta({ endpoint, chainId });\n\n  if (!muta || !address) return null;\n\n  async function handleTransfer({\n    receiver,\n    carryingAmount,\n    feeCycle,\n    feeAssetId,\n    carryingAssetId,\n    onTransferFinish,\n  }) {\n    const tx = await muta.client.prepareTransferTransaction({\n      receiver,\n      carryingAmount: utils.toHex(carryingAmount),\n      feeCycle: utils.toHex(feeCycle),\n      carryingAssetId,\n      feeAssetId,\n    });\n\n    const account = muta.accountFromPrivateKey(privateKey);\n    const signed = account.signTransaction(tx);\n    await muta.client.sendTransferTransaction(signed);\n    message.success(`transfer requested`);\n    onTransferFinish();\n  }\n\n  function onFetchBalance(address, assetId) {\n    return muta.client.getBalance(address, assetId);\n  }\n\n  return (\n    <BalanceWrapper>\n      <AccountSwitch />\n      <Divider style={{margin: '8px 0'}}/>\n\n      <List>\n        {assets.map(assetId => (\n          <List.Item key={assetId}>\n            <AssetBalance\n              assetId={assetId}\n              address={address}\n              onFetchBalance={onFetchBalance}\n              onTransfer={handleTransfer}\n            />\n          </List.Item>\n        ))}\n      </List>\n    </BalanceWrapper>\n  );\n}\n","function fallbackCopyTextToClipboard(text) {\n  let textArea = document.createElement('textarea');\n  textArea.value = text;\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  try {\n    const successful = document.execCommand('copy');\n    const msg = successful ? 'successful' : 'unsuccessful';\n    console.log('Fallback: Copying text command was ' + msg);\n  } catch (err) {\n    console.error('Fallback: Oops, unable to copy', err);\n  }\n\n  document.body.removeChild(textArea);\n}\nexport function copyTextToClipboard(text) {\n  if (!navigator.clipboard) {\n    fallbackCopyTextToClipboard(text);\n    return;\n  }\n  navigator.clipboard.writeText(text).then(\n    function() {\n      console.log('Async: Copying to clipboard was successful!');\n    },\n    function(err) {\n      console.error('Async: Could not copy text: ', err);\n    },\n  );\n}\n","import React from 'react';\nimport { useStoreState } from 'easy-peasy';\nimport Unlock from './Unlock';\nimport Balance from './Account';\nimport { copyTextToClipboard } from '../utils';\nimport { message } from 'antd';\n\nexport default function Accounts() {\n  const { unlocked } = useStoreState(store => store.wallet);\n\n  return (\n    <div style={{ maxWidth: '420px', margin: '0 auto' }}>{unlocked ? <Balance /> : <Unlock />}</div>\n  );\n}\n\nexport function copy(text) {\n  copyTextToClipboard(text);\n  message.info('copied ', 1);\n}\n","import React from 'react';\nimport { Icon, Menu, Dropdown } from 'antd';\nimport { useStoreActions } from 'easy-peasy';\n\nexport default function AccountAvatar() {\n  const resetAll = useStoreActions(store => store.resetAll);\n\n  const menu = (\n    <Menu>\n      <Menu.Item onClick={resetAll}>reset all</Menu.Item>\n    </Menu>\n  );\n\n  return (\n    <Dropdown overlay={menu} trigger={['click']}>\n      <Icon type=\"setting\" style={{ marginLeft: '20px' }} />\n    </Dropdown>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { Col, Layout, Row } from 'antd';\nimport styled from 'styled-components';\nimport Guide from './Guide';\nimport NetworkConfig from './NetworkConfig';\nimport { useStoreActions, useStoreState } from 'easy-peasy';\nimport Accounts from './Account';\nimport AccountAvatar from './Account/Avatar';\n\nconst { Content } = Layout;\n\nconst Header = styled(Layout.Header)`\n  background-color: #ccc;\n`;\n\nconst AppWrapper = styled.div`\n  max-width: 960px;\n  min-height: 480px;\n  margin: 20px auto 0;\n  box-shadow: 0 0 7px 0 rgba(0, 0, 0, 0.08);\n`;\n\nfunction AppHeader() {\n  return (\n    <Row type=\"flex\">\n      <Col span={12}>\n        <strong>\n          MUWA&nbsp;\n          <small>\n            (<code>Mu</code>ta <code>Wa</code>llet)\n          </small>\n        </strong>\n      </Col>\n      <Col span={12} style={{ textAlign: 'right' }}>\n        <NetworkConfig />\n        <AccountAvatar />\n      </Col>\n    </Row>\n  );\n}\n\nexport default function Wallet() {\n  const initialWallet = useStoreActions(store => store.wallet.initialWallet);\n  const walletImported = useStoreState(store => store.wallet.imported);\n\n  useEffect(() => {\n    initialWallet();\n  }, []);\n\n  if (walletImported === null) return null;\n\n  return (\n    <AppWrapper>\n      <Layout className=\"main\">\n        <Header theme=\"dark\">\n          <AppHeader />\n        </Header>\n        <Content style={{ padding: '20px' }}>{walletImported ? <Accounts /> : <Guide />}</Content>\n      </Layout>\n    </AppWrapper>\n  );\n}\n","import { action, computed, createStore, thunk } from 'easy-peasy';\nimport SecureLS from 'secure-ls';\nimport _ from 'lodash';\nimport { Muta, utils } from 'muta-sdk';\n\nconst ls = new SecureLS();\n\nconst defaultConfig = {\n  name: 'Cryptape',\n  endpoint: 'http://dex.cryptape.com:18000/graphql',\n  chainId: '0xb6a4d7da21443f5e816e8700eea87610e6d769657d6b8ec73028457bf2ca4036',\n};\n\nfunction getConfig() {\n  return _.merge({}, defaultConfig, ls.get('config'));\n}\n\nconst store = createStore(\n  {\n    config: {\n      name: '',\n      endpoint: '',\n      chainId: '',\n      loaded: false,\n\n      isUnset: computed(config => {\n        const { loaded, name, endpoint, chainId } = config;\n        return loaded && (!name || !endpoint || !chainId);\n      }),\n\n      setConfig: action((state, config) => {\n        _.merge(state, defaultConfig, config);\n      }),\n\n      loadConfig: thunk((actions, payload, { injections }) => {\n        const config = getConfig();\n        actions.setConfig(config);\n        injections.muta = new Muta({ chainId: config.chainId, endpoint: config.endpoint });\n      }),\n      saveConfig: thunk((actions, config) => {\n        ls.set('config', config);\n        document.location.reload();\n      }),\n    },\n    wallet: {\n      unlocked: false,\n      imported: null,\n\n      setUnlock: action((state, unlocked) => {\n        state.unlocked = unlocked;\n      }),\n\n      setImported: action((state, imported) => {\n        state.imported = imported;\n      }),\n\n      initialWallet: thunk((actions) => {\n        const imported = ls.getAllKeys().includes('mnemonic');\n        actions.setImported(imported);\n      }),\n\n      // save the encrypted mnemonic, call only once for an user until mnemonic is cleared\n      importMnemonic: thunk((actions, { mnemonic, password }, { getStoreActions, injections }) => {\n        const sls = (injections.sls = new SecureLS({\n          encodingType: 'aes',\n          encryptionSecret: password,\n        }));\n        sls.set('mnemonic', mnemonic);\n\n        // create 5 accounts by default\n        const addHDAccount = getStoreActions().account.addHDAccount;\n        _.times(5).forEach(index =>\n          addHDAccount({ accountIndex: index, name: `Account ${index + 1}` }),\n        );\n        actions.setImported(true);\n      }),\n\n      // call unlock every time after page is loaded\n      unlockWallet: thunk((actions, password, { getStoreActions, injections }) => {\n        const sls = (injections.sls = new SecureLS({\n          encodingType: 'aes',\n          encryptionSecret: password,\n        }));\n        try {\n          const mnemonic = sls.get('mnemonic');\n\n          if (_.isEmpty(sls.get('accounts'))) {\n            actions.initialWallet({ password, mnemonic });\n          }\n\n          const accountActions = getStoreActions().account;\n          accountActions.initialAccount();\n\n          actions.setUnlock(true);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }),\n    },\n    account: {\n      accounts: [],\n      index: 0,\n\n      initialAccount: thunk((actions) => {\n        actions.syncWithStorage();\n      }),\n\n      selectedAccount: computed(state => {\n        return state.accounts[state.index];\n      }),\n\n      addHDAccount: thunk((actions, payload, { injections }) => {\n        const { accountIndex, name } = payload;\n        const { muta, sls } = injections;\n        const mnemonic = sls.get('mnemonic');\n\n        const wallet = muta.hdWalletFromMnemonic(mnemonic);\n        const privateKey = wallet.getPrivateKey(accountIndex);\n        const account = muta.accountFromPrivateKey(utils.toHex(privateKey));\n\n        const accounts = sls.get('accounts') || [];\n        sls.set(\n          'accounts',\n          accounts.concat({\n            name,\n            hdAccount: accountIndex,\n            privateKey: utils.toHex(privateKey),\n            address: utils.toHex(account.address),\n          }),\n        );\n      }),\n\n      addExtraAccount: thunk((actions, payload, { injections }) => {\n        const { name, privateKey } = payload;\n        const { muta, sls } = injections;\n        let account;\n        try {\n          account = muta.accountFromPrivateKey(privateKey);\n        } catch (e) {\n          alert(e.message);\n          return;\n        }\n\n        const accounts = sls.get('accounts') || [];\n        sls.set(\n          'accounts',\n          accounts.concat({\n            name,\n            privateKey: utils.toHex(privateKey),\n            address: utils.toHex(account.address),\n          }),\n        );\n        actions.selectLatestAccount();\n      }),\n\n      syncWithStorage: thunk((actions, payload, { injections }) => {\n        const { sls } = injections;\n        const accounts = sls.get('accounts');\n        // TODO remove private key\n        actions.setAccounts(accounts);\n      }),\n\n      selectLatestAccount: thunk((actions, payload, { getState }) => {\n        actions.syncWithStorage();\n        const state = getState();\n        actions.selectAccount(state.accounts.length - 1);\n      }),\n\n      selectAccount: action((state, index) => {\n        state.index = index;\n      }),\n\n      setAccounts: action((state, accounts) => {\n        state.accounts = accounts;\n      }),\n    },\n\n    asset: {\n      assets: ['0xfee0decb4f6a76d402f200b5642a9236ba455c22aa80ef82d69fc70ea5ba20b5'],\n    },\n\n    resetAll: thunk(() => {\n      ls.removeAll();\n      document.location.reload();\n    }),\n  },\n  {\n    injections: {\n      muta: new Muta(getConfig()),\n      sls: null,\n    },\n  },\n);\n\nexport default store;\n","import React, { Component } from 'react';\nimport { StoreProvider } from 'easy-peasy';\nimport { ConfigProvider, message } from 'antd';\nimport Wallet from './Wallet';\nimport store from './store';\n\nclass App extends Component {\n  componentDidCatch(error, errorInfo) {\n    message.error(error.message);\n  }\n\n  render() {\n    return (\n      <StoreProvider store={store}>\n        <ConfigProvider>\n          <Wallet />\n        </ConfigProvider>\n      </StoreProvider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}